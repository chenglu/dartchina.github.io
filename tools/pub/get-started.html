<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Language" content="en_US" />
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Learn more about Dart's tool for managing packages and assets, the pub tool.">
  <title>Getting Started with Pub | Dart</title>

  <!-- Favicon / Touch Icons -->
  <link rel="icon" sizes="64x64" href="/assets/shared/dart/icon/64.png">
  <link href="/assets/touch-icon-iphone-a46c306c4fbfae0b28d63f512b01d7cb2ccf1e4ca9d7f3aab15ba1170beed4a0.png" rel="apple-touch-icon">
  <link href="/assets/touch-icon-ipad-d0181720760b3912858b6d40da1d5586b1e92c7c8656a485ea41005674401e6b.png" rel="apple-touch-icon" sizes="76x76">
  <link href="/assets/touch-icon-iphone-retina-3d9821a631425376ac6203dea3c23c1940ab7b5c506a25406662fab76cee2e0b.png" rel="apple-touch-icon" sizes="120x120">
  <link href="/assets/touch-icon-ipad-retina-b9715401952522f1daee2b4a4064a1bbfb5ffab78d0a47a7226dc87444d51c32.png" rel="apple-touch-icon" sizes="152x152">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@dart_lang" />
  <meta name="twitter:title" content="Getting Started with Pub" />
  <meta name="twitter:description" content="Learn more about Dart's tool for managing packages and assets, the pub tool." />

  <!-- Open Graph -->
  <meta property="og:title" content="Getting Started with Pub" />
  <meta property="og:description" content="Learn more about Dart's tool for managing packages and assets, the pub tool." />
  <meta property="og:url" content="https://www.dartlang.org/tools/pub/get-started" />
  <meta property="og:image" content="https://www.dartlang.org/assets/shared/dart-logo-for-shares.png?2" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" type="text/css" href="/assets/main-d0a179bece23587af430fb44686d863ed0a8d3cc5860abf9f20f572e57be3c1a.css">
  <script src="/assets/main-71e22756c14cfd21201fa211c97710e579861304aff9198bae7fb4f529ca1bb1.js" type="text/javascript"></script>
  <script>

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-26406144-4', 'auto');
ga('send', 'pageview');

</script>


</head>

  <body class="default">
    <header id="page-header">
  <nav id="mainnav">
  <div id="menu-toggle"><i class="icon icon-menu"></i></div>
  <a href="/" class="brand" title="Dart">
    <img src="/assets/shared/dart/logo+text/horizontal/default-363c9c133ffb7780463d3d638632b64cc8221d74d93cd1002fb1efbbe9983bc9.svg" alt="Dart">
  </a>
  <ul>
    <li class="mainnav__get-started"><a href="/guides/get-started"><span>入门</span></a></li>
    <li><a href="/guides/language">语言</a></li>
    <li><a href="/guides/libraries">库</a></li>
    <li><a href="/tools">工具</a></li>
    
    
    <li class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Dart 2</a>
      <ul class="dropdown-menu">
        

<li><a href="https://v1-dartlang-org.firebaseapp.com/tools/pub/get-started" class="dropdown-item no-automatic-external">1.24.3&nbsp;&nbsp;(archive)</a></li><li><a class="active dropdown-item">2.0.0&nbsp;&nbsp;(stable)</a></li>

        <li role="separator" class="dropdown-divider"></li>
        <li><a class="dropdown-item" href="/dart-2#migration">迁移指南</a></li>
      </ul>
    </li>
    
    <li class="searchfield">
      <form class="navbar-search" action="/search" id="cse-search-box">
        <input type="hidden" name="cx" value="011220921317074318178:_yy-tmb5t_i">
        <input type="hidden" name="ie" value="UTF-8">
        <input type="hidden" name="hl" value="en">
        <input type="search" name="q" id="q" autocomplete="off" placeholder="Search">
        <button type="submit"><i class="icon icon-search"></i></button>
      </form>
    </li>
  </ul>
</nav>

  
</header>

    <main id="page-content">
      <div id="sidenav" class="">
  <div class="content">
    <a href="/" class="brand" title="Dart">
      <img src="/assets/shared/dart/logo+text/horizontal/default-363c9c133ffb7780463d3d638632b64cc8221d74d93cd1002fb1efbbe9983bc9.svg" alt="Dart">
    </a>

    <div class="sidenav__search">
      <p>
        <a href="/search">Search <i class="icon icon-search"></i></a>
      </p>
    </div>

    <ul>
      <li>
        <a class="btn btn-light" href="/guides/get-started">入门</a>
      </li>
    </ul>
    <h4 ><a href="/guides/language" title="语言">语言</a></h4>
  <ul><li >
          <a href="/guides/language/language-tour" title="概览">概览</a>
        </li>
        
        <li >
          <a href="/guides/language/effective-dart" title="Effective Dart">Effective Dart</a>
          <i class="icon icon-arrow"></i>
          <ul><li >
                <a href="/guides/language/effective-dart/style" title="风格">风格</a>
              </li><li >
                <a href="/guides/language/effective-dart/documentation" title="文档">文档</a>
              </li><li >
                <a href="/guides/language/effective-dart/usage" title="使用">使用</a>
              </li><li >
                <a href="/guides/language/effective-dart/design" title="设计">设计</a>
              </li>
          </ul><li >
          <a href="/samples" title="示例代码">示例代码</a>
        </li>
  </ul><h4 ><a href="/guides/libraries" title="库">库</a></h4>
  <ul><li >
          <a href="/guides/libraries/library-tour" title="概览">概览</a>
        </li>
  </ul><h4 ><a href="/guides/platforms" title="平台">平台</a></h4>
  <ul><li >
          <a href="https://flutter.io" title="移动端 (Flutter)">移动端 (Flutter)</a>
        </li><li >
          <a href="https://webdev.dartlang.org" title="web">web</a>
        </li><li >
          <a href="/dart-vm" title="服务器">服务器</a>
        </li>
  </ul><h4 ><a href="/guides/testing" title="测试">测试</a></h4>
  <ul>
  </ul><h4 >资源</h4>
  <ul><li >
          <a href="/install" title="安装">安装</a>
        </li><li >
          <a href="/codelabs" title="Codelabs">Codelabs</a>
        </li><li >
          <a href="/tutorials" title="学习指南">学习指南</a>
        </li><li >
          <a href="/articles" title="文章">文章</a>
        </li><li class="active">
          <a href="/tools" title="工具">工具</a>
        </li><li >
          <a href="/community" title="社区支持">社区支持</a>
        </li>
  </ul>
  </div>
</div>

      
<div id="toc">
  <div class="content">
    <header class="h4 text-uppercase">
      目录
      <a title="Back to top" class="back-to-top float-right mr-3">
        <i class="fas fa-angle-up"></i>
      </a>
    </header>
    <ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#creating-a-pubspec">Creating a pubspec</a></li>
<li class="toc-entry toc-h2"><a href="#installing-packages">Installing packages</a></li>
<li class="toc-entry toc-h2"><a href="#importing-libraries-from-packages">Importing libraries from packages</a></li>
<li class="toc-entry toc-h2"><a href="#upgrading-a-dependency">Upgrading a dependency</a></li>
<li class="toc-entry toc-h2"><a href="#more-information">More information</a></li>
</ul>
  </div>
</div>


      <article>
        <div class="content">
          <div class="banner alert alert-info">
  <p class="banner__text">
    <a href="https://medium.com/dartlang/dart-2-stable-and-the-dart-web-platform-3775d5f8eac7" target="_blank" rel="noopener"><b>Dart 2</b> 稳定版发布！</a>
    <a href="/dart-2#migration">迁移代码</a> 或
    <a href="/install">安装 Dart</a>.
  </p>
</div>

          

          

<nav aria-label="breadcrumb">
  <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
  <li class="breadcrumb-item"
      property="itemListElement" typeof="ListItem"><a href="/tools/" property="item" typeof="WebPage"><span property="name">Tools</span>
      </a>
      <meta property="position" content="1" />
    </li>
  <li class="breadcrumb-item"
      property="itemListElement" typeof="ListItem"><a href="/tools/pub/" property="item" typeof="WebPage"><span property="name">Pub</span>
      </a>
      <meta property="position" content="2" />
    </li>
  <li class="breadcrumb-item active"
      property="itemListElement" typeof="ListItem" aria-current="page"><a href="/tools/pub/get-started" property="item" typeof="WebPage"><span property="name">Getting Started with Pub</span>
      </a>
      <meta property="position" content="3" />
    </li>
  
  </ol>
</nav>
          <div>
            <ul class="page-github-links-menu" role="group">
  <li>
    <a href="https://github.com/dart-lang/site-www/tree/master/src_zh_CN/tools/pub/get-started.md"
      class="no-automatic-external"
      title="View page source"
      target="_blank" rel="noopener">
      <i class="fab fa-github fa-sm"></i>
    </a>
  </li>
  <li>
    <a href="https://github.com/dart-lang/site-www/issues/new?title='Getting Started with Pub' page issue&body=From URL: https://www.dartlang.org/tools/pub/get-started"
      class="no-automatic-external"
      title="Report a bug on this page" target="_blank" rel="noopener">
      <i class="fas fa-bug fa-sm"></i>
    </a>
  </li>
</ul>

            <h1>Getting Started with Pub</h1>
          </div>
          <p>You can use <a href="/tools/pub">pub</a> to manage Dart packages.</p>

<p>At the very minimum,
a Dart package is simply a directory containing a <em>pubspec</em> file.</p>

<p>The pubspec contains some metadata about the package. Additionally,
a package can contain dependencies (listed in the pubspec),
Dart libraries, command-line apps, web apps, resources,
tests, images, or examples.
If your app uses one or more packages, then your app itself must be
a package.</p>

<aside class="alert alert-info">
  <p><strong>Note:</strong>
IDEs such as WebStorm offer support for using pub,
including creating, installing, updating, and publishing packages.
To access the pub commands in WebStorm, double-click the
<code class="highlighter-rouge">pubspec.yaml</code> file. The <strong>Pub actions</strong> are provided above the
contents of the pubspec file.</p>
</aside>

<p>A package can live anywhere. For example, some packages are on GitHub.
The Dart team publishes packages at
<a href="https://pub.dartlang.org">pub.dartlang.org</a>,
and we hope you will, too.</p>

<p>To use a library that is in a Dart package, you need to do the
following:</p>

<ul>
  <li>Create a pubspec (a file that lists package dependencies and includes
other metadata, such as a name for your package).</li>
  <li>Use pub to get your package’s dependencies.</li>
  <li>Import the library.</li>
</ul>

<h2 id="creating-a-pubspec">
<a id="creating-a-pubspec" class="anchor" href="#creating-a-pubspec" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating a pubspec</h2>
<p>To use a package, your application must define a pubspec.
The simplest possible pubspec lists only the package name:</p>

<pre class="prettyprint lang-yaml">name: my_app</pre>

<p>A pubspec is where you list dependencies and their download locations.
The pubspec is a file named <code class="literal">pubspec.yaml</code>,
and it must be in the top directory of your application.</p>

<p>Here is an example of a pubspec that specifies the locations of
two packages. First, it points to the js package that is hosted on
pub.dartlang.org, and then it points to the intl package in the Dart
SDK:</p>

<pre class="prettyprint lang-yaml">name: my_app
dependencies:
  js: ^0.3.0
  intl: ^0.12.4</pre>

<p>For details, see the <a href="/tools/pub/pubspec">pubspec documentation</a>
and the documentation for the packages you are interested in using.</p>

<h2 id="installing-packages">
<a id="installing-packages" class="anchor" href="#installing-packages" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installing packages</h2>
<p>Once you have a pubspec, you can run <code class="literal">pub
get</code> from the top directory of your application:</p>

<pre class="prettyprint lang-dart">cd &lt;path-to-my_app&gt;
pub get</pre>

<p>This process is called <em>getting the dependencies</em>.</p>

<p>The <code class="highlighter-rouge">pub get</code> command determines which packages your app depends on,
and puts them in a central <a href="/tools/pub/glossary#system-cache">system cache</a>.
For git dependencies, pub clones the git repository.
For hosted dependencies, pub downloads the package from
pub.dartlang.org. Transitive dependencies are included, too.
For example, if the js package depends on the test package, <code class="highlighter-rouge">pub</code>
grabs both the js package and the test package.</p>

<p>Pub creates a
<code class="highlighter-rouge">.packages</code> file (under your app’s top directory)
that maps each package name
that your app depends on to the corresponding package in the system cache.</p>

<h2 id="importing-libraries-from-packages">
<a id="importing-libraries-from-packages" class="anchor" href="#importing-libraries-from-packages" aria-hidden="true"><span class="octicon octicon-link"></span></a>Importing libraries from packages</h2>
<p>To import libraries found in packages, use the
<code class="literal">package:</code> prefix:</p>

<pre class="prettyprint lang-dart">import 'package:js/js.dart' as js;
import 'package:intl/intl.dart';</pre>

<p>The Dart runtime takes everything after <code class="highlighter-rouge">package:</code>
and looks it up within the <code class="highlighter-rouge">.packages</code> file for
your app.</p>

<p>You can also use this style to import libraries from within your own package.</p>

<p>Consider the following pubspec file, which declares a dependency on
the (fictional) <code class="highlighter-rouge">transmogrify</code> package:</p>

<pre class="prettyprint lang-yaml">name: my_app
dependencies:
  transmogrify:</pre>

<p>Let’s say that your package is laid out as follows:</p>

<pre>transmogrify/
  lib/
    transmogrify.dart
    parser.dart
  test/
    parser/
      parser_test.dart</pre>

<p>The <code class="highlighter-rouge">parser_test</code> file <em>could</em> import <code class="highlighter-rouge">parser.dart</code> like this:</p>

<pre class="prettyprint lang-dart">import '../../lib/parser.dart';</pre>

<p>But that’s a fragile relative path. If <code class="highlighter-rouge">parser_test.dart</code> is ever moved
up or down a directory, that path will break and you’ll have to fix the code.
Instead, you can do as follows:</p>

<pre class="prettyprint lang-dart">import 'package:transmogrify/parser.dart';</pre>

<p>This way, the import can always get to <code class="highlighter-rouge">parser.dart</code> regardless of where the
importing file is.</p>

<h2 id="upgrading-a-dependency">
<a id="upgrading-a-dependency" class="anchor" href="#upgrading-a-dependency" aria-hidden="true"><span class="octicon octicon-link"></span></a>Upgrading a dependency</h2>

<p>The first time you get a new dependency for your package,
pub downloads the latest version of it that’s compatible with
your other dependencies.
It then locks your package to <em>always</em> use that version by
creating a <strong>lockfile</strong>.
This is a file named <code class="highlighter-rouge">pubspec.lock</code> that pub creates and stores next to your
pubspec. It lists the specific versions of each dependency (immediate and
transitive) that your package uses.</p>

<p>If this is an application package,
you should check this file into source control.
That way, everyone working on your app ensures they are using the same versions
of all of the packages.
This also makes sure that you use the same versions of
code when you deploy your app to production.</p>

<p>When you are ready to upgrade your dependencies to the latest versions, do:</p>

<pre class="prettyprint lang-sh">$ pub upgrade</pre>

<p>This tells pub to regenerate the lockfile using the newest
available versions of your package’s dependencies.
If you only want to upgrade a specific dependency,
you can specify that too:</p>

<pre class="prettyprint lang-sh">$ pub upgrade transmogrify</pre>

<p>This upgrades <code class="highlighter-rouge">transmogrify</code> to the latest version but leaves everything else
the same.</p>

<h2 id="more-information">
<a id="more-information" class="anchor" href="#more-information" aria-hidden="true"><span class="octicon octicon-link"></span></a>More information</h2>

<ul>
  <li><a href="/tools/pub/dependencies">Pub Dependencies</a></li>
  <li><a href="/tools/pub/pubspec">Pubspec Format</a></li>
  <li><a href="/tools/pub/package-layout">Pub Package Layout Conventions</a></li>
  <li><a href="/tools/pub/cmd">Pub Commands</a></li>
</ul>


          

        </div>
      </article>
    </main>
    <footer id="page-footer">
  <div class="container">
    <div class="row">
      <div class="col-md-12 col-lg-3">
        <div class="content">
          <div class="brand">
            <img src="/assets/shared/dart/logo+text/horizontal/mono-004b4974b3112e2d9136b1c457037dfd9fe54e2e69e850d777891e5c2a57a78d.svg" alt="Dart logo" class="brand"/>
          </div>
          <h4><a href="/terms">Terms</a> | <a href="https://policies.google.com/privacy">Privacy</a></h4>
          <style>.menu .material-icons { font-size: 14px; }</style><ul class="menu">
            <li>Site&nbsp;<a href="http://creativecommons.org/licenses/by/3.0/" class="no-automatic-external">CC&nbsp;BY&nbsp;3.0</a></li>
            <li>
              <a href="https://github.com/dart-lang/site-www"
                 title="This site's source is on GitHub."
                 class="no-automatic-external"><i class="fab fa-github fa-sm"></i></a>
              &nbsp;
              <a href="https://github.com/dart-lang/site-www/issues"
                 title="File an issue about this site."
                 class="no-automatic-external"><i class="fas fa-bug fa-sm"></i></a>
              &nbsp;
              <a 
                 title="Site built on 2018/09/10 11:49 CST"
                 
                 class="no-automatic-external"><i class="material-icons">build</i></a>
            </li>
          </ul>
        </div>
      </div>
      <div class="col-md-4 col-lg-3">
        <div class="content">
          <h4>技术</h4>
          <ul>
            <li><a href="https://flutter.io">Dart 移动开发 (Flutter)</a></li>
            <li><a href="https://webdev.dartlang.org">Dart web 开发</a></li>
            <li><a href="/dart-vm">Dart 服务器开发</a></li>
            <li><a href="https://dart-lang.github.io/observatory/">Observatory 工具</a></li>
            <li><a href="/guides/libraries">Dart 库</a></li>
            <li><a href="/guides/language">Dart 编程语言</a></li>
          </ul>
        </div>
      </div>

      <div class="col-md-4 col-lg-3">
        <div class="content">
          <h4>资源</h4>
          <ul>
            <li><a href="https://api.dartlang.org/stable">API 参考</a></li>
            <li><a href="https://dartpad.dartlang.org/">DartPad</a></li>
            <li><a href="https://pub.dartlang.org/">Pub packages</a></li>
            <li><a href="http://news.dartlang.org/">Dart 新闻</a></li>
            <li><a href="https://github.com/dart-lang/sdk/issues">Dart bugs 和 <br> 新需求</a></li>
          </ul>
        </div>
      </div>

      <div class="col-md-4 col-lg-3">
        <div class="content">
          <h4>社区</h4>
          <ul>
            <li><a href="/community">支持和邮件列表</a></li>
            <li><a href="/community/who-uses-dart">谁在用Dart</a></li>
            <li><a href="http://stackoverflow.com/questions/tagged/dart">Stack Overflow</a></li>
            <li>G+ <a href="https://plus.google.com/communities/114566943291919232850">社区</a> &
                <a href="https://plus.google.com/b/109866369054280216564/+dartlang">公告组</a></li>
            <li><a href="https://gitter.im/dart-lang/home">Gitter聊天室</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</footer>

  </body>
</html>
