<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Language" content="en_US" />
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Your development tools generate a bunch of files. Not all of them should be committed.">
  <title>What Not to Commit | Dart</title>

  <!-- Favicon / Touch Icons -->
  <link rel="icon" sizes="64x64" href="/assets/shared/dart/icon/64.png">
  <link href="/assets/touch-icon-iphone.png" rel="apple-touch-icon">
  <link href="/assets/touch-icon-ipad.png" rel="apple-touch-icon" sizes="76x76">
  <link href="/assets/touch-icon-iphone-retina.png" rel="apple-touch-icon" sizes="120x120">
  <link href="/assets/touch-icon-ipad-retina.png" rel="apple-touch-icon" sizes="152x152">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@dart_lang" />
  <meta name="twitter:title" content="What Not to Commit" />
  <meta name="twitter:description" content="Your development tools generate a bunch of files. Not all of them should be committed." />

  <!-- Open Graph -->
  <meta property="og:title" content="What Not to Commit" />
  <meta property="og:description" content="Your development tools generate a bunch of files. Not all of them should be committed." />
  <meta property="og:url" content="https://www.dartlang.org/guides/libraries/private-files" />
  <meta property="og:image" content="https://www.dartlang.org/assets/shared/dart-logo-for-shares.png?2" />

  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300,700' rel='stylesheet' type='text/css'>
  <link type="text/css" rel="stylesheet" href="/assets/style.css">
  
  <!--
    Why don't we use Dart here?

    The only scripting we use here is stuff like the on-click footnotes on the
    front page or resizing of the left nav. These happen to be use cases where
    JavaScript and jQuery are doing just fine. Dart is here for application
    programming, not page scripting.
   -->
  <script type="text/javascript" src="/assets/main.js"></script>
  
  <script>

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-26406144-4', 'auto');
ga('send', 'pageview');

</script>


</head>

  <body class="default">
    <header id="page-header">
  <nav id="mainnav">
  <div id="menu-toggle"><i class="icon icon-menu"></i></div>
  <a href="/" class="brand" title="Dart">
    <img src="/assets/shared/dart/logo+text/horizontal/default.svg" alt="Dart">
  </a>
  <ul>
    <li class="mainnav__get-started"><a href="/guides/get-started"><span>入门</span></a></li>
    <li><a href="/guides/language">语言</a></li>
    <li><a href="/guides/libraries">库</a></li>
    <li><a href="/tools">工具</a></li>
    
    
    <li class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Dart 2 <span class="caret"></span></a>
      <ul class="dropdown-menu">
        

<li><a href="https://v1-dartlang-org.firebaseapp.com/guides/libraries/private-files" class="no-automatic-external">1.24.3&nbsp;&nbsp;(archive)</a></li><li><a class="active">2.0.0-dev.66.0&nbsp;&nbsp;(beta)</a></li>

        <li role="separator" class="divider"></li>
        <li><a href="/dart-2#migration">迁移指南</a></li>
      </ul>
    </li>
    
    <li class="searchfield">
      <form class="navbar-search" action="/search" id="cse-search-box">
        <input type="hidden" name="cx" value="011220921317074318178:_yy-tmb5t_i">
        <input type="hidden" name="ie" value="UTF-8">
        <input type="hidden" name="hl" value="en">
        <input type="search" name="q" id="q" autocomplete="off" placeholder="Search">
        <button type="submit"><i class="icon icon-search"></i></button>
      </form>
    </li>
  </ul>
</nav>

  
</header>

    <main id="page-content">
      <div id="sidenav" class="">
  <div class="content">
    <a href="/" class="brand" title="Dart">
      <img src="/assets/shared/dart/logo+text/horizontal/default.svg" alt="Dart">
    </a>

    <div class="sidenav__search">
      <p>
        <a href="/search">Search <i class="icon icon-search"></i></a>
      </p>
    </div>

    <ul>
      <li>
        <a class="btn btn-default" href="/guides/get-started">入门</a>
      </li>
    </ul>
    <h4 ><a href="/guides/language" title="语言">语言</a></h4>
  <ul><li >
          <a href="/guides/language/language-tour" title="概览">概览</a>
        </li>
        
        <li >
          <a href="/guides/language/effective-dart" title="Effective Dart">Effective Dart</a>
          <i class="icon icon-arrow"></i>
          <ul><li >
                <a href="/guides/language/effective-dart/style" title="风格">风格</a>
              </li><li >
                <a href="/guides/language/effective-dart/documentation" title="文档">文档</a>
              </li><li >
                <a href="/guides/language/effective-dart/usage" title="使用">使用</a>
              </li><li >
                <a href="/guides/language/effective-dart/design" title="设计">设计</a>
              </li>
          </ul><li >
          <a href="/samples" title="示例代码">示例代码</a>
        </li>
  </ul><h4 ><a href="/guides/libraries" title="库">库</a></h4>
  <ul><li >
          <a href="/guides/libraries/library-tour" title="概览">概览</a>
        </li>
  </ul><h4 ><a href="/guides/platforms" title="平台">平台</a></h4>
  <ul><li >
          <a href="https://flutter.io" title="移动端 (Flutter)">移动端 (Flutter)</a>
        </li><li >
          <a href="https://webdev.dartlang.org" title="web">web</a>
        </li><li >
          <a href="/dart-vm" title="服务器">服务器</a>
        </li>
  </ul><h4 ><a href="/guides/testing" title="测试">测试</a></h4>
  <ul>
  </ul><h4 >资源</h4>
  <ul><li >
          <a href="/install" title="安装">安装</a>
        </li><li >
          <a href="/codelabs" title="Codelabs">Codelabs</a>
        </li><li >
          <a href="/tutorials" title="学习指南">学习指南</a>
        </li><li >
          <a href="/articles" title="文章">文章</a>
        </li><li >
          <a href="/tools" title="工具">工具</a>
        </li><li >
          <a href="/community" title="社区支持">社区支持</a>
        </li>
  </ul>
  </div>
</div>

      
<div id="toc">
  <div class="content">
    <h4>On this page
      <a href="#page-content" title="Back to top" class="pull-right"><i class="icon icon-caret-up"></i></a>
    </h4>
    <ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#the-rules">The rules</a></li>
<li class="toc-entry toc-h2"><a href="#details">Details</a>
<ul>
<li class="toc-entry toc-h3"><a href="#packages">.packages</a></li>
<li class="toc-entry toc-h3"><a href="#pubspeclock">pubspec.lock</a></li>
<li class="toc-entry toc-h3"><a href="#js">*.js</a></li>
</ul>
</li>
</ul>
  </div>
</div>


      <article>
        <div class="content">
          
<div class="banner alert alert-info">
  <p class="banner__text">
    欢迎来到 <a href="/dart-2"><b>Dart 2</b></a>!
    如果您仍在使用 Dart 1.x? 可访问查阅
    <a href="https://v1-dartlang-org.firebaseapp.com" class="no-automatic-external" target="_blank" rel="noopener">存档站点</a>
    或 <a href="/dart-2#migration">迁移指南</a>.
  </p>
</div>


          

          
          <div>
            <ul class="page-github-links-menu" role="group">
  <li>
    <a href="https://github.com/dart-lang/site-www/tree/master/src_zh_CN/_guides/libraries/private-files.md"
      class="no-automatic-external"
      title="View page source"
      target="_blank" rel="noopener">
      <i class="fab fa-github fa-sm"></i>
    </a>
  </li>
  <li>
    <a href="https://github.com/dart-lang/site-www/issues/new?title='What Not to Commit' page issue&body=From URL: https://www.dartlang.org/guides/libraries/private-files"
      class="no-automatic-external"
      title="Report a bug on this page" target="_blank" rel="noopener">
      <i class="fas fa-bug fa-sm"></i>
    </a>
  </li>
</ul>

            <h1>What Not to Commit</h1>
          </div>
          <p>When you put Dart source code in a repository—using the
<a href="/tools/pub">pub</a> tool, <a href="https://github.com/">GitHub,</a>
or another source code management system—don’t include most of the files
that your IDE or code editor, the pub tool, and other tools generate.</p>

<aside class="alert alert-info">
  <p><strong>Note:</strong>
Except where noted, this page discusses only source code repositories,
<em>not</em> app deployment.
Some files that you wouldn’t normally put in a repository
are useful or essential when you deploy an app.</p>
</aside>

<h2 id="the-rules">
<a id="the-rules" class="anchor" href="#the-rules" aria-hidden="true"><span class="octicon octicon-link"></span></a>The rules</h2>

<p><strong>Don’t commit</strong> the following files and directories
created by pub:</p>

<pre>
.dart_tool/
.packages
build/
pubspec.lock  // Except for application packages
</pre>

<aside class="alert alert-info">
  <p><strong>Note:</strong> The <code class="highlighter-rouge">.dart_tool</code> directory, which is new in Dart 2,
is used by pub and other tools. It replaces the <code class="highlighter-rouge">.pub</code> directory as of
the 2.0.0-dev.32.0 SDK release. The <code class="highlighter-rouge">.packages</code> file replaces the
<code class="highlighter-rouge">packages</code> directories that early Dart 1.x versions produced.</p>
</aside>

<p><strong>Don’t commit</strong> the API documentation directory created by dartdoc:</p>

<pre>
doc/api/
</pre>

<p><strong>Don’t commit</strong> files and directories
created by other development environments.
For example, if your development environment creates
any of the following files,
consider putting them in a global ignore file:</p>

<pre>
*.iml         // IntelliJ
*.ipr         // IntelliJ
*.iws         // IntelliJ
.idea/        // IntelliJ
.DS_Store     // Mac
</pre>

<p><strong>Avoid committing</strong> generated JavaScript files:</p>

<pre>
*.dart.js
*.info.json      # Produced by the --dump-info flag.
*.js             # When generated by dart2js. Don't specify *.js if your
                 # project includes source files written in JavaScript.
*.js_
*.js.deps
*.js.map
</pre>

<p>For more details, read on.</p>

<h2 id="details">
<a id="details" class="anchor" href="#details" aria-hidden="true"><span class="octicon octicon-link"></span></a>Details</h2>

<p>As a rule, commit only the files that people need
to use your package or source code repository.
Including additional files is unnecessary,
could be counterproductive,
and might have security implications
if you expose details about your machine’s setup.
In many source code repositories,
the common practice is not to commit generated files, at all.</p>

<p>To avoid committing files that are
specific to your personal workflow or setup,
consider using a global ignore file
(for example, <code class="highlighter-rouge">.gitignore_global</code>).</p>

<p>When you use pub from within a Git repo,
pub ignores the same files that Git does.
For example, if you run <code class="highlighter-rouge">pub publish</code> from a Git repo
that has a <code class="highlighter-rouge">.gitignore</code> file containing <code class="highlighter-rouge">*.js</code>,
then your published package won’t contain <code class="highlighter-rouge">*.js</code> files.</p>

<p>For more information on <code class="highlighter-rouge">.gitignore</code> files,
see the GitHub help page
<a href="https://help.github.com/articles/ignoring-files">Ignoring files.</a></p>

<h3 id="packages">
<a id="packages" class="anchor" href="#packages" aria-hidden="true"><span class="octicon octicon-link"></span></a>.packages</h3>

<p>The <code class="highlighter-rouge">.packages</code> file contains a list of dependencies used by your application.
Users of your code should generate their own packages information
using <a href="/tools/pub/get-started#installing-packages">pub get</a>.</p>

<aside class="alert alert-info">
  <p><strong>Note:</strong>
  The <code class="highlighter-rouge">.packages</code> file has replaced <code class="highlighter-rouge">packages</code> directories.
  For more information, see <a href="/tools/pub/cmd/pub-get">pub get</a>.</p>
</aside>

<h3 id="pubspeclock">
<a id="pubspeclock" class="anchor" href="#pubspeclock" aria-hidden="true"><span class="octicon octicon-link"></span></a>pubspec.lock</h3>

<p>The <code class="highlighter-rouge">pubspec.lock</code> file is a special case,
similar to Ruby’s <code class="highlighter-rouge">Gemfile.lock</code>.</p>

<p><strong>For library packages</strong>, do <strong>not</strong> commit the <code class="highlighter-rouge">pubspec.lock</code> file.</p>

<p><strong>For application packages</strong>, <strong>do</strong> commit <code class="highlighter-rouge">pubspec.lock</code>.
This file is the recommended way for non-shared resources
such as applications to manage their dependencies.</p>

<h3 id="js">
<a id="js" class="anchor" href="#js" aria-hidden="true"><span class="octicon octicon-link"></span></a>*.js</h3>

<p>Don’t commit JavaScript files generated by dart2js. Just be careful
that you don’t accidentally exclude source files written in JavaScript.</p>

<p>Calling dart2js without any flags generates <code class="highlighter-rouge">out.js</code>, but the
tools that invoke dart2js often specify an output name, such as:</p>

<pre>
dart2js -o main.dart.js main.dart
</pre>

<p>For more information on generating and debugging
JavaScript source for Dart apps, see the
<a href="https://webdev.dartlang.org/tools/dart2js">dart2js documentation</a>.</p>

          

        </div>
      </article>
    </main>
    <footer id="page-footer">
  <div class="container">
    <div class="row">
      <div class="col-sm-12 col-md-3">
        <div class="content">
          <div class="brand">
            <img src="/assets/shared/dart/logo+text/horizontal/mono.svg" alt="Dart logo" class="brand"/>
          </div>
          <h4><a href="/terms">Terms</a> | <a href="https://policies.google.com/privacy">Privacy</a></h4>
          <style>.menu .material-icons { font-size: 14px; }</style><ul class="menu">
            <li>Site&nbsp;<a href="http://creativecommons.org/licenses/by/3.0/" class="no-automatic-external">CC&nbsp;BY&nbsp;3.0</a></li>
            <li>
              <a href="https://github.com/dart-lang/site-www"
                 title="This site's source is on GitHub."
                 class="no-automatic-external"><i class="fab fa-github fa-sm"></i></a>
              &nbsp;
              <a href="https://github.com/dart-lang/site-www/issues"
                 title="File an issue about this site."
                 class="no-automatic-external"><i class="fas fa-bug fa-sm"></i></a>
              &nbsp;
              <a 
                 title="Site built on 2018/07/11 19:44 CST"
                 
                 class="no-automatic-external"><i class="material-icons">build</i></a>
            </li>
          </ul>
        </div>
      </div>
      <div class="col-sm-4 col-md-3">
        <div class="content">
          <h4>技术</h4>
          <ul>
            <li><a href="https://flutter.io">Dart 移动开发 (Flutter)</a></li>
            <li><a href="https://webdev.dartlang.org">Dart web 开发</a></li>
            <li><a href="/dart-vm">Dart 服务器开发</a></li>
            <li><a href="https://dart-lang.github.io/observatory/">Observatory 工具</a></li>
            <li><a href="/guides/libraries">Dart 库</a></li>
            <li><a href="/guides/language">Dart 编程语言</a></li>
          </ul>
        </div>
      </div>

      <div class="col-sm-4 col-md-3">
        <div class="content">
          <h4>资源</h4>
          <ul>
            <li><a href="https://api.dartlang.org/dev">API 参考</a></li>
            <li><a href="https://dartpad.dartlang.org/">DartPad</a></li>
            <li><a href="https://pub.dartlang.org/">Pub packages</a></li>
            <li><a href="http://news.dartlang.org/">Dart 新闻</a></li>
            <li><a href="https://github.com/dart-lang/sdk/issues">Dart bugs 和 <br> 新需求</a></li>
          </ul>
        </div>
      </div>

      <div class="col-sm-4 col-md-3">
        <div class="content">
          <h4>社区</h4>
          <ul>
            <li><a href="/community">支持和邮件列表</a></li>
            <li><a href="/community/who-uses-dart">谁在用Dart</a></li>
            <li><a href="http://stackoverflow.com/questions/tagged/dart">Stack Overflow</a></li>
            <li>G+ <a href="https://plus.google.com/communities/114566943291919232850">社区</a> &
                <a href="https://plus.google.com/b/109866369054280216564/+dartlang">公告组</a></li>
            <li><a href="https://gitter.im/dart-lang/home">Gitter聊天室</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</footer>

  </body>
</html>
