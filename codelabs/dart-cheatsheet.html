<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Language" content="en_US" />
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Interactively learn (or relearn) some of Dart's unique features.">
  <title>Dart Cheatsheet Codelab | Dart</title>

  <!-- Favicon / Touch Icons -->
  <link rel="icon" sizes="64x64" href="/assets/shared/dart/icon/64.png">
  <link href="/assets/touch-icon-iphone-a46c306c4fbfae0b28d63f512b01d7cb2ccf1e4ca9d7f3aab15ba1170beed4a0.png" rel="apple-touch-icon">
  <link href="/assets/touch-icon-ipad-d0181720760b3912858b6d40da1d5586b1e92c7c8656a485ea41005674401e6b.png" rel="apple-touch-icon" sizes="76x76">
  <link href="/assets/touch-icon-iphone-retina-3d9821a631425376ac6203dea3c23c1940ab7b5c506a25406662fab76cee2e0b.png" rel="apple-touch-icon" sizes="120x120">
  <link href="/assets/touch-icon-ipad-retina-b9715401952522f1daee2b4a4064a1bbfb5ffab78d0a47a7226dc87444d51c32.png" rel="apple-touch-icon" sizes="152x152">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@dart_lang" />
  <meta name="twitter:title" content="Dart Cheatsheet Codelab" />
  <meta name="twitter:description" content="Interactively learn (or relearn) some of Dart's unique features." />

  <!-- Open Graph -->
  <meta property="og:title" content="Dart Cheatsheet Codelab" />
  <meta property="og:description" content="Interactively learn (or relearn) some of Dart's unique features." />
  <meta property="og:url" content="https://www.dartlang.org/codelabs/dart-cheatsheet" />
  <meta property="og:image" content="https://www.dartlang.org/assets/shared/dart-logo-for-shares.png?2" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" type="text/css" integrity="sha256-EULh7n7c0RZiOHiikIAEzXBQ0AXvb71Ul6a85V4AuTc=" crossorigin="anonymous" href="/assets/main-1142e1ee7edcd116623878a2908004cd7050d005ef6fbd5497a6bce55e00b937.css">
  <script src="/assets/main-8306ad9c5a7b0d639cab54fda750f6ae0b3fb8f964457c69a7ef962a0cc52902.js" integrity="sha256-gwatnFp7DWOcq1T9p1D2rgs/uPlkRXxpp++WKgzFKQI=" crossorigin="anonymous" type="text/javascript"></script>
  <script>

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-26406144-4', 'auto');
ga('send', 'pageview');

</script>


</head>

  <body class="default">
    <header id="page-header">
  <nav id="mainnav">
  <div id="menu-toggle"><i class="icon icon-menu"></i></div>
  <a href="/" class="brand" title="Dart">
    <img src="/assets/shared/dart/logo+text/horizontal/default-363c9c133ffb7780463d3d638632b64cc8221d74d93cd1002fb1efbbe9983bc9.svg" alt="Dart">
  </a>
  <ul>
    <li class="mainnav__get-started"><a href="/guides/get-started"><span>入门</span></a></li>
    <li><a href="/guides/language">语言</a></li>
    <li><a href="/guides/libraries">库</a></li>
    <li><a href="/tools">工具</a></li>
    
    
    <li class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Dart 2</a>
      <ul class="dropdown-menu">
        

<li><a href="https://v1-dartlang-org.firebaseapp.com/codelabs/dart-cheatsheet" class="dropdown-item no-automatic-external">1.24.3&nbsp;&nbsp;(archive)</a></li><li><a class="active dropdown-item">2.2.0&nbsp;&nbsp;(stable)</a></li>

        <li role="separator" class="dropdown-divider"></li>
        <li><a class="dropdown-item" href="/dart-2#migration">迁移指南</a></li>
      </ul>
    </li>
    
    <li class="searchfield">
      <form class="navbar-search" action="/search" id="cse-search-box">
        <input type="hidden" name="cx" value="011220921317074318178:_yy-tmb5t_i">
        <input type="hidden" name="ie" value="UTF-8">
        <input type="hidden" name="hl" value="en">
        <input type="search" name="q" id="q" autocomplete="off" placeholder="Search">
        <button type="submit"><i class="icon icon-search"></i></button>
      </form>
    </li>
  </ul>
</nav>

  
</header>

    <main id="page-content">
      <div id="sidenav" class="">
  <div class="content">
    <a href="/" class="brand" title="Dart">
      <img src="/assets/shared/dart/logo+text/horizontal/default-363c9c133ffb7780463d3d638632b64cc8221d74d93cd1002fb1efbbe9983bc9.svg" alt="Dart">
    </a>

    <div class="sidenav__search">
      <p>
        <a href="/search">Search <i class="icon icon-search"></i></a>
      </p>
    </div>

    <ul>
      <li>
        <a class="btn btn-light" href="/guides/get-started">入门</a>
      </li>
    </ul>
    <h4 ><a href="/guides/language" title="语言">语言</a></h4>
  <ul><li >
          <a href="/guides/language/language-tour" title="概览">概览</a>
        </li>
        
        <li >
          <a href="/guides/language/effective-dart" title="Effective Dart">Effective Dart</a>
          <i class="icon icon-arrow"></i>
          <ul><li >
                <a href="/guides/language/effective-dart/style" title="风格">风格</a>
              </li><li >
                <a href="/guides/language/effective-dart/documentation" title="文档">文档</a>
              </li><li >
                <a href="/guides/language/effective-dart/usage" title="使用">使用</a>
              </li><li >
                <a href="/guides/language/effective-dart/design" title="设计">设计</a>
              </li>
          </ul><li >
          <a href="/samples" title="示例代码">示例代码</a>
        </li>
  </ul><h4 ><a href="/guides/libraries" title="库">库</a></h4>
  <ul><li >
          <a href="/guides/libraries/library-tour" title="概览">概览</a>
        </li>
  </ul><h4 ><a href="/guides/platforms" title="平台">平台</a></h4>
  <ul><li >
          <a href="https://flutterchina.club" title="移动端 (Flutter中文网)">移动端 (Flutter中文网)</a>
        </li><li >
          <a href="https://webdev.dartlang.org" title="Web">Web</a>
        </li><li >
          <a href="/server" title="服务器">服务器</a>
        </li>
  </ul><h4 ><a href="/guides/testing" title="测试">测试</a></h4>
  <ul>
  </ul><h4 >资源</h4>
  <ul><li >
          <a href="/install" title="安装">安装</a>
        </li><li class="active">
          <a href="/codelabs" title="Codelab">Codelab</a>
        </li><li >
          <a href="/tutorials" title="学习指南">学习指南</a>
        </li><li >
          <a href="/tools" title="工具">工具</a>
        </li><li >
          <a href="/community" title="社区支持">社区支持</a>
        </li>
  </ul>
  </div>
</div>

      
<div id="toc">
  <div class="content">
    <header class="h4 text-uppercase">
      目录
      <a title="Back to top" class="back-to-top float-right mr-3">
        <i class="fas fa-angle-up"></i>
      </a>
    </header>
    <ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#string-interpolation">String interpolation</a>
<ul>
<li class="toc-entry toc-h3"><a href="#code-example">Code example</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#null-aware-operators">Null-aware operators</a>
<ul>
<li class="toc-entry toc-h3"><a href="#code-example-1">Code example</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#conditional-property-access">Conditional property access</a>
<ul>
<li class="toc-entry toc-h3"><a href="#code-example-2">Code example</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#collection-literals">Collection literals</a>
<ul>
<li class="toc-entry toc-h3"><a href="#code-example-3">Code example</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#arrow-syntax">Arrow syntax</a>
<ul>
<li class="toc-entry toc-h3"><a href="#code-example-4">Code example</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#cascades">Cascades</a>
<ul>
<li class="toc-entry toc-h3"><a href="#code-example-5">Code example</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#getters-and-setters">Getters and setters</a>
<ul>
<li class="toc-entry toc-h3"><a href="#code-example-6">Code example</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#optional-positional-parameters">Optional positional parameters</a>
<ul>
<li class="toc-entry toc-h3"><a href="#code-example-7">Code example</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#optional-named-parameters">Optional named parameters</a>
<ul>
<li class="toc-entry toc-h3"><a href="#code-example-8">Code example</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#exceptions">Exceptions</a>
<ul>
<li class="toc-entry toc-h3"><a href="#code-example-9">Code example</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#using-this-in-a-constructor">Using this in a constructor</a>
<ul>
<li class="toc-entry toc-h3"><a href="#code-example-10">Code example</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#initializer-lists">Initializer lists</a>
<ul>
<li class="toc-entry toc-h3"><a href="#code-example-11">Code example</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#named-constructors">Named constructors</a>
<ul>
<li class="toc-entry toc-h3"><a href="#code-example-12">Code example</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#factory-constructors">Factory constructors</a>
<ul>
<li class="toc-entry toc-h3"><a href="#code-example-13">Code example</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#redirecting-constructors">Redirecting constructors</a>
<ul>
<li class="toc-entry toc-h3"><a href="#code-example-14">Code example</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#const-constructors">Const constructors</a>
<ul>
<li class="toc-entry toc-h3"><a href="#code-example-15">Code example</a></li>
</ul>
</li>
</ul>
  </div>
</div>


      <article>
        <div class="content">
           <div class="banner alert alert-info">
  <p class="banner__text">
    
    
    Dart 2.2 现发布，更高的本地代码执行及 Set 字面量的支持。
    <a href="https://medium.com/dartlang/announcing-dart-2-2-faster-native-code-support-for-set-literals-7e2ab19cc86d">了解更多。</a>
  </p>
</div>
 
          

          <div>
            <div id="page-github-links" class="btn-group" aria-label="Page GitHub links" role="group">
  <a href="https://github.com/dartchina/site-www-cn/tree/src_zh_CN/src_zh_CN/codelabs/dart-cheatsheet/index.md" class="btn no-automatic-external" title="View page source" target="_blank" rel="noopener">
    <i class="fas fa-file-alt fa-sm"></i>
  </a>
  <a href="https://github.com/dartchina/site-www-cn/issues/new?title='Dart Cheatsheet Codelab' page issue&body=
Page URL: https://www.dartlang.org/codelabs/dart-cheatsheet%0D%0A
Page source: https://github.com/dartchina/site-www-cn/tree/src_zh_CN/src_zh_CN/codelabs/dart-cheatsheet/index.md%0D%0A
%0D%0A
<!-- ADD YOUR DESCRIPTION OF THE PAGE ISSUE HERE: -->" class="btn no-automatic-external" title="Report a issue with this page"
    target="_blank" rel="noopener">
    <i class="fas fa-bug fa-sm"></i>
  </a>
</div>

            <h1>Dart Cheatsheet Codelab</h1>
          </div>
          <style>
  iframe {
    border: 1px solid #ccc;
    width: 100%;
    height: 400px;
  }

  iframe[short] {
    height: 220px;
  }
</style>

<aside class="alert alert-warning">
This codelab is being used to test out some new features of DartPad! You may encounter bugs,
malapropisms, annoyances, and other general weirdness. If that happens, please take a moment to
<a target="_BLANK" href="https://github.com/dart-lang/dart-pad/issues/new">fill out a bug report on GitHub</a>
and let us know. Feature requests and suggestions are also greatly appreciated.
</aside>

<p>Dart is designed to be easy to learn for coders coming from other languages,
but it also has a few unique features.
This codelab will walk you through the most important ones,
and can be a handy place to return for a refresher as you grow your Dart skills.</p>

<p>In addition to explanations and examples,
the codelab includes embedded editors with partially completed code snippets.
You can use these editors to test your knowledge by completing the code and
clicking the <strong>Test Code</strong> button.</p>

<h2 id="string-interpolation">
<a id="string-interpolation" class="anchor" href="#string-interpolation" aria-hidden="true"><span class="octicon octicon-link"></span></a>String interpolation</h2>

<p>Dart offers string interpolation to simplify formatting variables and expressions
as strings. You can put the value of an expression inside a string by using
<code class="highlighter-rouge">${expression}</code>. If the expression is an identifier, you can
skip the <code class="highlighter-rouge">{}</code>.</p>

<p>Some examples:</p>

<ul>
  <li>
<code class="highlighter-rouge">'${3 + 2}'</code> becomes <code class="highlighter-rouge">'5'</code>
</li>
  <li>
<code class="highlighter-rouge">'${"word".toUpperCase()}'</code> becomes <code class="highlighter-rouge">'WORD'</code>
</li>
  <li>
<code class="highlighter-rouge">'$myObject'</code> becomes the value of <code class="highlighter-rouge">myObject.toString()</code>
</li>
</ul>

<h3 id="code-example">
<a id="code-example" class="anchor" href="#code-example" aria-hidden="true"><span class="octicon octicon-link"></span></a>Code example</h3>

<p>The following function takes two integers as parameters. Add code to make it return
a string containing both numbers separated by a space (e.g.
<code class="highlighter-rouge">2</code> and <code class="highlighter-rouge">3</code> become <code class="highlighter-rouge">'2 3'</code>).</p>

<iframe src="https://dartpad.dartlang.org/experimental/embed-new.html?id=43f3db47b0632c557200270807696687"></iframe>

<h2 id="null-aware-operators">
<a id="null-aware-operators" class="anchor" href="#null-aware-operators" aria-hidden="true"><span class="octicon octicon-link"></span></a>Null-aware operators</h2>

<p>Dart offers some handy operators for dealing with values that might be null. One is the
<code class="highlighter-rouge">??=</code> assignment operator, which assigns a value to a variable only if that
variable is currently null:</p>

<pre class="prettyprint lang-dart">int a = null;
a ??= 3;
print(a); // &lt;-- Prints 3;

a ??= 5;
print(a); // &lt;-- Still prints 3;</pre>

<p>There’s also the <code class="highlighter-rouge">??</code> operator, which returns the expression on its left unless
its value is null, in which case it evaluates and returns the expression on its right:</p>

<pre class="prettyprint lang-dart">print(1 ?? 3); // &lt;-- Prints 1;
print(null ?? 12); // &lt;-- Prints 12.</pre>

<h3 id="code-example-1">
<a id="code-example-1" class="anchor" href="#code-example-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Code example</h3>

<p>Try putting the <code class="highlighter-rouge">??=</code> and <code class="highlighter-rouge">??</code>
operators to work below:</p>

<iframe src="https://dartpad.dartlang.org/experimental/embed-new.html?id=f8ab52228b9c03aee9504dbdc15d797d"></iframe>

<h2 id="conditional-property-access">
<a id="conditional-property-access" class="anchor" href="#conditional-property-access" aria-hidden="true"><span class="octicon octicon-link"></span></a>Conditional property access</h2>

<p>To access a property or method on a reference that might be null, you can use
<code class="highlighter-rouge">?.</code> to guard the call:</p>

<pre class="prettyprint lang-dart">myObject?.someProperty</pre>

<p>The above code is equivalent to:</p>

<pre class="prettyprint lang-dart">(myObject != null) ? myObject.someProperty : null</pre>

<p>You can chain multiple uses of <code class="highlighter-rouge">?.</code> together in a single expression:</p>

<pre class="prettyprint lang-dart">myObject?.someProperty?.someMethod()</pre>

<p>The above code returns null (and never calls <code class="highlighter-rouge">someMethod</code>) if either
<code class="highlighter-rouge">myObject</code> or <code class="highlighter-rouge">myObject.someProperty</code> is
null.</p>

<h3 id="code-example-2">
<a id="code-example-2" class="anchor" href="#code-example-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Code example</h3>

<p>Try using conditional property access to finish the code snippet below:</p>

<iframe src="https://dartpad.dartlang.org/experimental/embed-new.html?id=58f14a3d943be6231ae611036fcfc80d"></iframe>

<h2 id="collection-literals">
<a id="collection-literals" class="anchor" href="#collection-literals" aria-hidden="true"><span class="octicon octicon-link"></span></a>Collection literals</h2>

<p>Dart has built-in support for lists, maps, and sets. You can create them using literals:</p>

<pre class="prettyprint lang-dart">final aListOfStrings = ['one', 'two', 'three'];
final aSetOfStrings = {'one', 'two', 'three'};
final aMapOfStringsToInts = {
  'one': 1,
  'two': 2,
  'three': 3,
};</pre>

<p>Dart’s type inference is capable of assigning types to these variables for you. In this case, the
inferred types are <code class="highlighter-rouge">List&lt;String&gt;</code>,
<code class="highlighter-rouge">Set&lt;String&gt;</code>, and <code class="highlighter-rouge">Map&lt;String, int&gt;</code>.</p>

<p>You can also specify the type for a collection literal:</p>

<pre class="prettyprint lang-dart">final aListOfInts = &lt;int&gt;[];
final aSetOfInts = &lt;int&gt;{};
final aMapOfIntToDouble = &lt;int, double&gt;{};</pre>

<p>Specifying types is handy if you initialize a list with contents of a subtype, but still want the list
itself to be <code class="highlighter-rouge">List&lt;BaseType&gt;</code>:</p>

<pre class="prettyprint lang-dart">final aListOfBaseType = &lt;BaseType&gt;[SubType(), SubType()];</pre>

<h3 id="code-example-3">
<a id="code-example-3" class="anchor" href="#code-example-3" aria-hidden="true"><span class="octicon octicon-link"></span></a>Code example</h3>

<p>Try setting the following variables to the indicated values:</p>

<iframe src="https://dartpad.dartlang.org/experimental/embed-new.html?id=f0d6e5f14e4606befa388f52eebc2647"></iframe>

<h2 id="arrow-syntax">
<a id="arrow-syntax" class="anchor" href="#arrow-syntax" aria-hidden="true"><span class="octicon octicon-link"></span></a>Arrow syntax</h2>

<p>In the previous examples, you may have noticed an operator that looks like <code class="highlighter-rouge">=&gt;</code>.
Dart’s docs refer to it as “arrow syntax,” and it’s a way to define a function that executes the
expression to its right and returns its value.</p>

<p>For example, consider this call to the <code class="highlighter-rouge">List</code> class’s
<code class="highlighter-rouge">any</code> method:</p>

<pre class="prettyprint lang-dart">bool hasEmpty = aListOfStrings.any((s) {
  return s.isEmpty;
});</pre>

<p>Here’s a simpler way to write that code:</p>

<pre class="prettyprint lang-dart">bool hasEmpty = aListOfStrings.any((s) =&gt; s.isEmpty);</pre>

<h3 id="code-example-4">
<a id="code-example-4" class="anchor" href="#code-example-4" aria-hidden="true"><span class="octicon octicon-link"></span></a>Code example</h3>

<p>Try finishing these statements that use arrow syntax:</p>

<iframe src="https://dartpad.dartlang.org/experimental/embed-new.html?id=7c287c55dcc7f414a5dfa5837e3450e3"></iframe>

<h2 id="cascades">
<a id="cascades" class="anchor" href="#cascades" aria-hidden="true"><span class="octicon octicon-link"></span></a>Cascades</h2>

<p>Cascades (<code class="highlighter-rouge">..</code>) allow you to make a sequence of operations on the same object.
We’ve all seen an expression like this:</p>

<pre class="prettyprint lang-dart">myObject.someMethod()</pre>

<p>It invokes <code class="highlighter-rouge">someMethod</code> on <code class="highlighter-rouge">myObject</code>, and the result of
the expression is the return value of <code class="highlighter-rouge">someMethod</code>.</p>

<p>The same expression with a cascade, however:</p>

<pre class="prettyprint lang-dart">myObject..someMethod()</pre>

<p>Still invokes <code class="highlighter-rouge">someMethod</code> on <code class="highlighter-rouge">myObject</code>, but the result
of the expression isn’t the return value – it’s a reference to <code class="highlighter-rouge">myObject</code>! This
way, you can chain together operations that would otherwise require separate statements. For example,
consider this code:</p>

<pre class="prettyprint lang-dart">var button = querySelector('#confirm');
button.text = 'Confirm';
button.classes.add('important');
button.onClick.listen((e) =&gt; window.alert('Confirmed!'));</pre>

<p>With cascades, the code becomes much shorter, and you don’t need the <code class="highlighter-rouge">button</code>
variable:</p>

<pre class="prettyprint lang-dart">querySelector('#confirm')
..text = 'Confirm'
..classes.add('important')
..onClick.listen((e) =&gt; window.alert('Confirmed!'));</pre>

<h3 id="code-example-5">
<a id="code-example-5" class="anchor" href="#code-example-5" aria-hidden="true"><span class="octicon octicon-link"></span></a>Code example</h3>

<p>Use cascades to create a single statement that sets a <code class="highlighter-rouge">BigObject</code>’s
<code class="highlighter-rouge">anInt</code>, <code class="highlighter-rouge">aString</code>, and <code class="highlighter-rouge">aList</code>
properties to <code class="highlighter-rouge">1</code>, <code class="highlighter-rouge">'String!'</code>, and
<code class="highlighter-rouge">[3.0]</code>, respectively, and then calls <code class="highlighter-rouge">allDone</code>:</p>

<iframe src="https://dartpad.dartlang.org/experimental/embed-new.html?id=72bde0b4d5c8c6046b4853a3b4053c3a"></iframe>

<h2 id="getters-and-setters">
<a id="getters-and-setters" class="anchor" href="#getters-and-setters" aria-hidden="true"><span class="octicon octicon-link"></span></a>Getters and setters</h2>

<p>Dart supports getters and setters for properties via the <code class="highlighter-rouge">get</code> and <code class="highlighter-rouge">set</code> keywords.
You can use getters and setters to guard access of a private variable:</p>

<pre class="prettyprint lang-dart">class MyClass {
  int _privateField = 0;

  int get privateField =&gt; _privateField;

  set privateField(int value) {
    if (value &gt;= 0) {
      _privateField = value;
    }
  }
}</pre>

<p>You can also define getters for computed properties like this one:</p>

<pre class="prettyprint lang-dart">class MyClass {
  List&lt;div&gt; _values = [];

  void addValue(int value) {
    _values.add(value);
  }

  int get count {
    return _values.length;
  }
}</pre>

<h3 id="code-example-6">
<a id="code-example-6" class="anchor" href="#code-example-6" aria-hidden="true"><span class="octicon octicon-link"></span></a>Code example</h3>

<p>Imagine you have a shopping cart class that keeps a private <code class="highlighter-rouge">List&lt;double&gt;</code>
of prices.
Add the following:</p>

<ul>
  <li>A getter called <code class="highlighter-rouge">total</code> that returns the sum of the prices</li>
  <li>A setter that replaces the list with a new one,
as long as the new list doesn’t contain any negative prices
(in which case the setter should throw an <code class="highlighter-rouge">InvalidPriceException</code>).</li>
</ul>

<iframe src="https://dartpad.dartlang.org/experimental/embed-new.html?id=84561041d263cbd4c92f614eceec85e6"></iframe>

<h2 id="optional-positional-parameters">
<a id="optional-positional-parameters" class="anchor" href="#optional-positional-parameters" aria-hidden="true"><span class="octicon octicon-link"></span></a>Optional positional parameters</h2>

<p>Dart has two kinds of function parameters: positional and named. Positional parameters are the kind
you’re likely familiar with:</p>

<pre class="prettyprint lang-dart">int sumUp(int a, int b, int c) {
  return a + b + c;
}

int total = sumUp(1, 2, 3);</pre>

<p>With Dart, you can make these positional parameters optional by wrapping them in brackets:</p>

<pre class="prettyprint lang-dart">int sumUpToFive(int a, [int b, int c, int d, int e]) {
  int sum = a;
  if (b != null) sum += b;
  if (c != null) sum += c;
  if (d != null) sum += d;
  if (e != null) sum += e;
  return sum;
}

int total = sumUptoFive(1, 2);
int otherTotal = sumUpToFive(1, 2, 3, 4, 5);</pre>

<p>Optional positional parameters should always be placed last in a function’s parameter list. They default
to null, but you can provide default values if desired:</p>

<pre class="prettyprint lang-dart">int sumUpToFive(int a, [int b = 2, int c = 3, int d = 4, int e = 5]) {
  ...
}

int newTotal = sumUpToFive(1);
print(newTotal); // &lt;-- prints 15</pre>

<h3 id="code-example-7">
<a id="code-example-7" class="anchor" href="#code-example-7" aria-hidden="true"><span class="octicon octicon-link"></span></a>Code example</h3>

<p>Implement a function called <code class="highlighter-rouge">joinWithCommas</code> that accepts at least one and up to
five integers, then returns a string of those numbers separated by commas:</p>

<ul>
  <li>
<code class="highlighter-rouge">joinWithCommas(1)</code> should return <code class="highlighter-rouge">'1'</code>.</li>
  <li>
<code class="highlighter-rouge">joinWithCommas(1, 2, 3)</code> should return <code class="highlighter-rouge">'1,2,3'</code>.</li>
  <li>
<code class="highlighter-rouge">joinWithCommas(1, 1, 1, 1, 1)</code> should return <code class="highlighter-rouge">'1,1,1,1,1'</code>.</li>
  <li>etc.</li>
</ul>

<iframe src="https://dartpad.dartlang.org/experimental/embed-new.html?id=9e7d5b6b56319b7e3b12b791c0ae27c1"></iframe>

<h2 id="optional-named-parameters">
<a id="optional-named-parameters" class="anchor" href="#optional-named-parameters" aria-hidden="true"><span class="octicon octicon-link"></span></a>Optional named parameters</h2>

<p>Dart also allows for optional parameters that are referenced by name when the function is invoked. These
are defined using a brace syntax:</p>

<pre class="prettyprint lang-dart">void printName(String firstName, String lastName, {String suffix}) {
  print('$firstName $lastName ${suffix ?? ''}');
}

printName('Avinash', 'Gupta');
printName('Poshmeister', 'Moneybuckets', suffix: 'IV');</pre>

<p>Like optional positional parameters they default to null, but it’s possible to provide default values as
well:</p>

<pre class="prettyprint lang-dart">void printName(String firstName, String lastName, {String suffix = ''}) {
  print('$firstName $lastName ${suffix}');
}</pre>

<p>A function cannot have both optional positional and optional named parameters.</p>

<h3 id="code-example-8">
<a id="code-example-8" class="anchor" href="#code-example-8" aria-hidden="true"><span class="octicon octicon-link"></span></a>Code example</h3>

<p>Add a <code class="highlighter-rouge">copyWith</code> instance method to the <code class="highlighter-rouge">MyDataObject</code>
class. It should take three named parameters:</p>

<ul>
  <li><code class="highlighter-rouge">int newInt</code></li>
  <li><code class="highlighter-rouge">String newString</code></li>
  <li><code class="highlighter-rouge">double newDouble</code></li>
</ul>

<p>When called, it should return a new <code class="highlighter-rouge">MyDataObject</code> based on the current
instance, with data from the above parameters copied into the object’s properties (e.g. the value of
<code class="highlighter-rouge">newInt</code> is copied into <code class="highlighter-rouge">anInt</code>). Any parameters that
aren’t supplied (they’ll be null) should be ignored.</p>

<iframe src="https://dartpad.dartlang.org/experimental/embed-new.html?id=1dd9cc9654f9e6d080f99bfb9772dae4"></iframe>

<h2 id="exceptions">
<a id="exceptions" class="anchor" href="#exceptions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Exceptions</h2>

<p>Dart code can throw and catch exceptions. In contrast to Java, all of Dart’s exceptions are unchecked
exceptions. Methods do not declare which exceptions they might throw, and you are not required to catch
any exceptions.</p>

<p>Dart provides <code class="highlighter-rouge">Exception</code> and <code class="highlighter-rouge">Error</code> types, but you’re
allowed to throw any non-null object:</p>

<pre class="prettyprint lang-dart">throw Exception('Something bad happened.');
throw 'Waaaaaaah!';</pre>

<p>There are three keywords to remember for handling exceptions: <code class="highlighter-rouge">try</code>,
<code class="highlighter-rouge">on</code>, and <code class="highlighter-rouge">catch</code>:</p>

<pre class="prettyprint lang-dart">try {
  breedMoreLlamas();
} on OutOfLlamasException {
  // A specific exception
  buyMoreLlamas();
} on Exception catch (e) {
  // Anything else that is an exception
  print('Unknown exception: $e');
} catch (e) {
  // No specified type, handles all
  print('Something really unknown: $e');
}</pre>

<p>The <code class="highlighter-rouge">try</code> keyword works as it does in most other languages. The
<code class="highlighter-rouge">on</code> keyword is used to filter for specific exceptions by type, and the
<code class="highlighter-rouge">catch</code> keyword is used to get a reference to the exception object. They can be
used together or separately, as shown in the previous example.</p>

<p>Exceptions can be rethrown using the <code class="highlighter-rouge">rethrow</code> keyword:</p>

<pre class="prettyprint lang-dart">try {
  breedMoreLlamas();
} catch (e) {
  print('I was just trying to breed llamas!.');
  rethrow;
}</pre>

<p>And if you need to execute code whether or not an exception is thrown, you can do so with
<code class="highlighter-rouge">finally</code>:</p>

<pre class="prettyprint lang-dart">try {
  breedMoreLlamas();
} catch (e) {
  … handle exception ...
} finally {
  // Always clean up, even if an exception is thrown.
  cleanLlamaStalls();
}</pre>

<h3 id="code-example-9">
<a id="code-example-9" class="anchor" href="#code-example-9" aria-hidden="true"><span class="octicon octicon-link"></span></a>Code example</h3>

<p>Implement <code class="highlighter-rouge">tryFunction</code> below. It should execute an untrustworthy method and
then do the following:</p>

<ul>
  <li>
    <p>If <code class="highlighter-rouge">untrustworthy</code> throws an <code class="highlighter-rouge">ExceptionWithMessage</code>,
<code class="highlighter-rouge">logger.logException</code> should be called with the exception type and message
(try using <code class="highlighter-rouge">on</code> and <code class="highlighter-rouge">catch</code>).</p>
  </li>
  <li>
    <p>If <code class="highlighter-rouge">untrustworthy</code> throws an <code class="highlighter-rouge">Exception</code>,
<code class="highlighter-rouge">logger.logException</code> should be called with the exception type (try using
<code class="highlighter-rouge">on</code> for this one).</p>
  </li>
  <li>
    <p>If <code class="highlighter-rouge">untrustworthy</code> throws any other object, it shouldn’t be caught.</p>
  </li>
  <li>
    <p>After everything’s caught and handled, <code class="highlighter-rouge">logger.doneLogging</code> should be called
(try using <code class="highlighter-rouge">finally</code>).</p>
  </li>
</ul>

<iframe src="https://dartpad.dartlang.org/experimental/embed-new.html?id=e221e3fd667825e62aac79079b8b5c59"></iframe>

<h2 id="using-this-in-a-constructor">
<a id="using-this-in-a-constructor" class="anchor" href="#using-this-in-a-constructor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using <code class="highlighter-rouge">this</code> in a constructor</h2>

<p>Dart provides a handy shortcut for assigning values to properties in a constructor. Simply use
<code class="highlighter-rouge">this.propertyName</code> when declaring the constructor:</p>

<pre class="prettyprint lang-dart">class MyColor {
  int red;
  int green;
  int blue;

  MyColor(this.red, this.green, this.blue);
}

final color = MyColor(80, 80, 128);</pre>

<p>This works for named parameters as well. Property names become the names of the parameters:</p>

<pre class="prettyprint lang-dart">class MyColor {
  ...

  MyColor({this.red, this.green, this.blue});
}

final color = MyColor(red: 80, green: 80, blue: 80);</pre>

<p>Default values work as expected for both parameter types:</p>

<pre class="prettyprint lang-dart">MyColor([this.red = 0, this.green = 0, this.blue = 0]);
// or
MyColor({this.red = 0, this.green = 0, this.blue = 0});</pre>

<h3 id="code-example-10">
<a id="code-example-10" class="anchor" href="#code-example-10" aria-hidden="true"><span class="octicon octicon-link"></span></a>Code example</h3>

<p>Add a one-line constructor to <code class="highlighter-rouge">MyClass</code> that will use
<code class="highlighter-rouge">this.</code> syntax to receive and assign values for all three of the class’s
properties:</p>

<iframe src="https://dartpad.dartlang.org/experimental/embed-new.html?id=2778e81ae2c5729d45c611829f3888c2"></iframe>

<h2 id="initializer-lists">
<a id="initializer-lists" class="anchor" href="#initializer-lists" aria-hidden="true"><span class="octicon octicon-link"></span></a>Initializer lists</h2>

<p>In between a constructor’s signature and its body, you can place an initializer list:</p>

<pre class="prettyprint lang-dart">// Initializer list sets instance variables before
// the constructor body runs.
Point.fromJson(Map&lt;String, num&gt; json)
    : x = json['x'],
      y = json['y'] {
  print('In Point.fromJson(): ($x, $y)');
}</pre>

<p>This is a good place to initialize final fields, and it’s executed before the constructor body. In
addition, the initializer list is a handy place to put asserts for running in debug mode:</p>

<pre class="prettyprint lang-dart">NonNegativePoint(this.x, this.y)
    : assert(x &gt;= 0),
      assert(y &gt;= 0) {
  print('I just made a NonNegativePoint: ($x, $y)');
}</pre>

<h3 id="code-example-11">
<a id="code-example-11" class="anchor" href="#code-example-11" aria-hidden="true"><span class="octicon octicon-link"></span></a>Code example</h3>

<p>Complete the <code class="highlighter-rouge">FirstTwoLetters</code> constructor below. It should use an initializer
list to assign the first two characters in <code class="highlighter-rouge">word</code> to the
<code class="highlighter-rouge">letterOne</code> and <code class="highlighter-rouge">LetterTwo</code> properties. You can also
throw in an <code class="highlighter-rouge">assert</code> to catch words less than two characters in length for extra
credit!</p>

<iframe src="https://dartpad.dartlang.org/experimental/embed-new.html?id=4bf47cf7e11bc5902e605a3efc3183ec"></iframe>

<h2 id="named-constructors">
<a id="named-constructors" class="anchor" href="#named-constructors" aria-hidden="true"><span class="octicon octicon-link"></span></a>Named constructors</h2>

<p>Much like JavaScript, Dart does not support method overloads (two methods with the same name but
different signatures). To allow for classes with multiple constructors, Dart supports named
constructors:</p>

<pre class="prettyprint lang-dart">class Point {
  num x, y;

  Point(this.x, this.y);

  Point.origin() {
    x = 0;
    y = 0;
  }
}</pre>

<p>These are invoked using their full name:</p>

<pre class="prettyprint lang-dart">final myPoint = Point.origin();</pre>

<h3 id="code-example-12">
<a id="code-example-12" class="anchor" href="#code-example-12" aria-hidden="true"><span class="octicon octicon-link"></span></a>Code example</h3>

<p>Try giving this class a named constructor called <code class="highlighter-rouge">black</code> that sets all three
properties to zero.</p>

<iframe src="https://dartpad.dartlang.org/experimental/embed-new.html?id=e1a82c77547e659eb24f4e698abf1eca"></iframe>

<h2 id="factory-constructors">
<a id="factory-constructors" class="anchor" href="#factory-constructors" aria-hidden="true"><span class="octicon octicon-link"></span></a>Factory constructors</h2>

<p>Dart also supports factory constructors, which are named constructors that can return subtypes or even
null. To create one, use the <code class="highlighter-rouge">factory</code> keyword:</p>

<pre class="prettyprint lang-dart">class Square extends Shape {}

class Circle extends Shape {}

class Shape {
  Shape();

  factory Shape.fromTypeName(String typeName) {
    if (typeName == 'square') return Square();
    if (typeName == 'circle') return Circle();

    print('I don\'t recognize $typeName');
    return null;
  }
}</pre>

<h3 id="code-example-13">
<a id="code-example-13" class="anchor" href="#code-example-13" aria-hidden="true"><span class="octicon octicon-link"></span></a>Code example</h3>

<p>Fill in the factory constructor for <code class="highlighter-rouge">IntegerHolder</code> below. It should do the
following:</p>

<ul>
  <li>If there’s one value in the list, create an <code class="highlighter-rouge">IntegerSingle</code> with that value.</li>
  <li>If there are two values, create an <code class="highlighter-rouge">IntegerDouble</code> with the values in order.</li>
  <li>If there are three values, create an <code class="highlighter-rouge">IntegerTriple</code> with values in order.</li>
  <li>Otherwise, return null.</li>
</ul>

<iframe src="https://dartpad.dartlang.org/experimental/embed-new.html?id=727981a8ece1244b52a3c6dc377a8085"></iframe>

<h2 id="redirecting-constructors">
<a id="redirecting-constructors" class="anchor" href="#redirecting-constructors" aria-hidden="true"><span class="octicon octicon-link"></span></a>Redirecting constructors</h2>

<p>Sometimes a constructor’s only purpose is to redirect to another constructor in the same class. A
redirecting constructor’s body is empty, with the constructor call appearing after a colon (:).</p>

<pre class="prettyprint lang-dart">class Automobile {
  String make;
  String model;
  int mpg;

  // The main constructor for this class.
  Automobile(this.make, this.model, this.mpg);

  // Delegates to the main constructor.
  Automobile.hybrid(String make, String model) : this(make, model, 60);

  // Delegates to a named constructor
  Automobile.fancyHybrid() : this.hybrid('Futurecar', 'Mark 2');
}</pre>

<h3 id="code-example-14">
<a id="code-example-14" class="anchor" href="#code-example-14" aria-hidden="true"><span class="octicon octicon-link"></span></a>Code example</h3>

<p>Remember the <code class="highlighter-rouge">Color</code> class from above? Create a named constructor called
<code class="highlighter-rouge">black</code>, but rather than manually assigning the properties, redirect it to the
default constructor with zeros as the arguments.</p>

<iframe src="https://dartpad.dartlang.org/experimental/embed-new.html?id=94eb1d8be5b64163753c7350f1f09edf"></iframe>

<h2 id="const-constructors">
<a id="const-constructors" class="anchor" href="#const-constructors" aria-hidden="true"><span class="octicon octicon-link"></span></a>Const constructors</h2>

<p>If your class produces objects that never change, you can make these objects compile-time constants. To
do this, define a <code class="highlighter-rouge">const</code> constructor and make sure that all instance variables
are final.</p>

<pre class="prettyprint lang-dart">class ImmutablePoint {
  const ImmutablePoint(this.x, this.y);

  final int x;
  final int y;

  static const ImmutablePoint origin =
      ImmutablePoint(0, 0);
}</pre>

<h3 id="code-example-15">
<a id="code-example-15" class="anchor" href="#code-example-15" aria-hidden="true"><span class="octicon octicon-link"></span></a>Code example</h3>

<p>Create a constant constructor for the <code class="highlighter-rouge">Recipe</code> class below. It should do the
following:</p>

<ul>
  <li>Have three parameters: <code class="highlighter-rouge">ingredients</code>, <code class="highlighter-rouge">calories</code>,
and <code class="highlighter-rouge">milligramsOfSodium</code> (in that order).</li>
  <li>Use <code class="highlighter-rouge">this.</code> syntax to automatically assign the parameter values to the
object properties of the same name.</li>
  <li>Be constant (use the <code class="highlighter-rouge">const</code> keyword just before
<code class="highlighter-rouge">Recipe</code> when declaring the constructor.</li>
</ul>

<iframe src="https://dartpad.dartlang.org/experimental/embed-new.html?id=c400cb84fab309ddbbb436c1ced90dad"></iframe>

          

        </div>
      </article>
    </main>
    <footer id="page-footer">
  <div class="container">
    <div class="row">
      <div class="col-md-12 col-lg-3">
        <div class="content">
          <div class="brand">
            <img src="/assets/shared/dart/logo+text/horizontal/mono-004b4974b3112e2d9136b1c457037dfd9fe54e2e69e850d777891e5c2a57a78d.svg" alt="Dart logo" class="brand"/>
          </div>
          <h4><a href="/terms">Terms</a> | <a href="https://policies.google.com/privacy">Privacy</a></h4>
          <style>.menu .material-icons { font-size: 14px; }</style><ul class="menu">
            <li>Site&nbsp;<a href="http://creativecommons.org/licenses/by/3.0/" class="no-automatic-external">CC&nbsp;BY&nbsp;3.0</a></li>
            <li>
              <a href="https://github.com/dartchina/site-www-cn"
                 title="This site's source is on GitHub."
                 class="no-automatic-external"><i class="fab fa-github fa-sm"></i></a>
              &nbsp;
              <a href="https://github.com/dartchina/site-www-cn/issues"
                 title="File an issue about this site."
                 class="no-automatic-external"><i class="fas fa-bug fa-sm"></i></a>
              &nbsp;
              <a 
                 title="Site built on 2019/04/19 02:51 PDT"
                 
                 class="no-automatic-external"><i class="material-icons">build</i></a>
            </li>
          </ul>
        </div>
      </div>
      <div class="col-md-4 col-lg-3">
        <div class="content">
          <h4>技术</h4>
          <ul>
            <li><a href="https://flutterchina.club">Dart 移动开发 (Flutter)</a></li>
            <li><a href="https://webdev.dartlang.org">Dart web 开发</a></li>
            <li><a href="/server">Dart 服务器开发</a></li>
            <li><a href="https://dart-lang.github.io/observatory/">Observatory 工具</a></li>
            <li><a href="/guides/libraries">Dart 库</a></li>
            <li><a href="/guides/language">Dart 编程语言</a></li>
          </ul>
        </div>
      </div>

      <div class="col-md-4 col-lg-3">
        <div class="content">
          <h4>资源</h4>
          <ul>
            <li><a href="https://api.dartlang.org/stable">API 参考</a></li>
            <li><a href="https://dartpad.cn">DartPad</a></li>
            <li><a href="https://pub.dartlang.org">Dart packages</a></li>
            <li><a href="https://news.dartlang.org">Dart 新闻</a></li>
            <li><a href="https://github.com/dart-lang/sdk/issues">Dart bugs 和 <br> 新需求</a></li>
          </ul>
        </div>
      </div>

      <div class="col-md-4 col-lg-3">
        <div class="content">
          <h4>社区</h4>
          <ul>
            <li><a href="/community">支持和邮件列表</a></li>
            <li><a href="/community/who-uses-dart">谁在用Dart</a></li>
            <li><a href="http://stackoverflow.com/questions/tagged/dart">Stack Overflow</a></li>
            <li><a href="https://gitter.im/dart-lang/home">Gitter 聊天室</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</footer>

  </body>
</html>
