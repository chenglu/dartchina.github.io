<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Language" content="en_US" />
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="The reference page for 'dart' at the command line.">
  <title>dart | Dart</title>

  <!-- Favicon / Touch Icons -->
  <link rel="icon" sizes="64x64" href="/assets/shared/dart/icon/64.png">
  <link href="/assets/touch-icon-iphone-a46c306c4fbfae0b28d63f512b01d7cb2ccf1e4ca9d7f3aab15ba1170beed4a0.png" rel="apple-touch-icon">
  <link href="/assets/touch-icon-ipad-d0181720760b3912858b6d40da1d5586b1e92c7c8656a485ea41005674401e6b.png" rel="apple-touch-icon" sizes="76x76">
  <link href="/assets/touch-icon-iphone-retina-3d9821a631425376ac6203dea3c23c1940ab7b5c506a25406662fab76cee2e0b.png" rel="apple-touch-icon" sizes="120x120">
  <link href="/assets/touch-icon-ipad-retina-b9715401952522f1daee2b4a4064a1bbfb5ffab78d0a47a7226dc87444d51c32.png" rel="apple-touch-icon" sizes="152x152">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@dart_lang" />
  <meta name="twitter:title" content="dart: The Standalone VM" />
  <meta name="twitter:description" content="The reference page for 'dart' at the command line." />

  <!-- Open Graph -->
  <meta property="og:title" content="dart: The Standalone VM" />
  <meta property="og:description" content="The reference page for 'dart' at the command line." />
  <meta property="og:url" content="https://www.dartlang.org/server/tools/dart-vm" />
  <meta property="og:image" content="https://www.dartlang.org/assets/shared/dart-logo-for-shares.png?2" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" type="text/css" integrity="sha256-EULh7n7c0RZiOHiikIAEzXBQ0AXvb71Ul6a85V4AuTc=" crossorigin="anonymous" href="/assets/main-1142e1ee7edcd116623878a2908004cd7050d005ef6fbd5497a6bce55e00b937.css">
  <script src="/assets/main-8306ad9c5a7b0d639cab54fda750f6ae0b3fb8f964457c69a7ef962a0cc52902.js" integrity="sha256-gwatnFp7DWOcq1T9p1D2rgs/uPlkRXxpp++WKgzFKQI=" crossorigin="anonymous" type="text/javascript"></script>
  <script>

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-26406144-4', 'auto');
ga('send', 'pageview');

</script>


</head>

  <body class="default">
    <header id="page-header">
  <nav id="mainnav">
  <div id="menu-toggle"><i class="icon icon-menu"></i></div>
  <a href="/" class="brand" title="Dart">
    <img src="/assets/shared/dart/logo+text/horizontal/default-363c9c133ffb7780463d3d638632b64cc8221d74d93cd1002fb1efbbe9983bc9.svg" alt="Dart">
  </a>
  <ul>
    <li class="mainnav__get-started"><a href="/guides/get-started"><span>入门</span></a></li>
    <li><a href="/guides/language">语言</a></li>
    <li><a href="/guides/libraries">库</a></li>
    <li><a href="/tools">工具</a></li>
    
    
    <li class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Dart 2</a>
      <ul class="dropdown-menu">
        

<li><a href="https://v1-dartlang-org.firebaseapp.com/server/tools/dart-vm" class="dropdown-item no-automatic-external">1.24.3&nbsp;&nbsp;(archive)</a></li><li><a class="active dropdown-item">2.2.0&nbsp;&nbsp;(stable)</a></li>

        <li role="separator" class="dropdown-divider"></li>
        <li><a class="dropdown-item" href="/dart-2#migration">迁移指南</a></li>
      </ul>
    </li>
    
    <li class="searchfield">
      <form class="navbar-search" action="/search" id="cse-search-box">
        <input type="hidden" name="cx" value="011220921317074318178:_yy-tmb5t_i">
        <input type="hidden" name="ie" value="UTF-8">
        <input type="hidden" name="hl" value="en">
        <input type="search" name="q" id="q" autocomplete="off" placeholder="Search">
        <button type="submit"><i class="icon icon-search"></i></button>
      </form>
    </li>
  </ul>
</nav>

  
</header>

    <main id="page-content">
      <div id="sidenav" class="">
  <div class="content">
    <a href="/" class="brand" title="Dart">
      <img src="/assets/shared/dart/logo+text/horizontal/default-363c9c133ffb7780463d3d638632b64cc8221d74d93cd1002fb1efbbe9983bc9.svg" alt="Dart">
    </a>

    <div class="sidenav__search">
      <p>
        <a href="/search">Search <i class="icon icon-search"></i></a>
      </p>
    </div>

    <ul>
      <li>
        <a class="btn btn-light" href="/guides/get-started">入门</a>
      </li>
    </ul>
    <h4 ><a href="/guides/language" title="语言">语言</a></h4>
  <ul><li >
          <a href="/guides/language/language-tour" title="概览">概览</a>
        </li>
        
        <li >
          <a href="/guides/language/effective-dart" title="Effective Dart">Effective Dart</a>
          <i class="icon icon-arrow"></i>
          <ul><li >
                <a href="/guides/language/effective-dart/style" title="风格">风格</a>
              </li><li >
                <a href="/guides/language/effective-dart/documentation" title="文档">文档</a>
              </li><li >
                <a href="/guides/language/effective-dart/usage" title="使用">使用</a>
              </li><li >
                <a href="/guides/language/effective-dart/design" title="设计">设计</a>
              </li>
          </ul><li >
          <a href="/samples" title="示例代码">示例代码</a>
        </li>
  </ul><h4 ><a href="/guides/libraries" title="库">库</a></h4>
  <ul><li >
          <a href="/guides/libraries/library-tour" title="概览">概览</a>
        </li>
  </ul><h4 ><a href="/guides/platforms" title="平台">平台</a></h4>
  <ul><li >
          <a href="https://flutterchina.club" title="移动端 (Flutter中文网)">移动端 (Flutter中文网)</a>
        </li><li >
          <a href="https://webdev.dartlang.org" title="Web">Web</a>
        </li><li class="active">
          <a href="/server" title="服务器">服务器</a>
        </li>
  </ul><h4 ><a href="/guides/testing" title="测试">测试</a></h4>
  <ul>
  </ul><h4 >资源</h4>
  <ul><li >
          <a href="/install" title="安装">安装</a>
        </li><li >
          <a href="/codelabs" title="Codelab">Codelab</a>
        </li><li >
          <a href="/tutorials" title="学习指南">学习指南</a>
        </li><li >
          <a href="/tools" title="工具">工具</a>
        </li><li >
          <a href="/community" title="社区支持">社区支持</a>
        </li>
  </ul>
  </div>
</div>

      
<div id="toc">
  <div class="content">
    <header class="h4 text-uppercase">
      目录
      <a title="Back to top" class="back-to-top float-right mr-3">
        <i class="fas fa-angle-up"></i>
      </a>
    </header>
    <ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#basic-usage">Basic usage</a>
<ul>
<li class="toc-entry toc-h3"><a href="#options">Options</a></li>
<li class="toc-entry toc-h3"><a href="#observatory-options">Observatory options</a></li>
<li class="toc-entry toc-h3"><a href="#snapshot-option">Snapshot option</a></li>
</ul>
</li>
</ul>
  </div>
</div>


      <article>
        <div class="content">
           <div class="banner alert alert-info">
  <p class="banner__text">
    
    
    Dart 2.2 现发布，更高的本地代码执行及 Set 字面量的支持。
    <a href="https://medium.com/dartlang/announcing-dart-2-2-faster-native-code-support-for-set-literals-7e2ab19cc86d">了解更多。</a>
  </p>
</div>
 
          

          <div>
            <div id="page-github-links" class="btn-group" aria-label="Page GitHub links" role="group">
  <a href="https://github.com/dartchina/site-www-cn/tree/src_zh_CN/src_zh_CN/server/tools/dart-vm.md" class="btn no-automatic-external" title="View page source" target="_blank" rel="noopener">
    <i class="fas fa-file-alt fa-sm"></i>
  </a>
  <a href="https://github.com/dartchina/site-www-cn/issues/new?title='dart: The Standalone VM' page issue&body=
Page URL: https://www.dartlang.org/server/tools/dart-vm%0D%0A
Page source: https://github.com/dartchina/site-www-cn/tree/src_zh_CN/src_zh_CN/server/tools/dart-vm.md%0D%0A
%0D%0A
<!-- ADD YOUR DESCRIPTION OF THE PAGE ISSUE HERE: -->" class="btn no-automatic-external" title="Report a issue with this page"
    target="_blank" rel="noopener">
    <i class="fas fa-bug fa-sm"></i>
  </a>
</div>

            <h1>dart: The Standalone VM</h1>
          </div>
          <p>You can use the <em>dart</em> tool (<code class="highlighter-rouge">bin/dart</code>) to run Dart command-line apps such as
server-side scripts, programs, and servers.</p>

<h2 id="basic-usage">
<a id="basic-usage" class="anchor" href="#basic-usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Basic usage</h2>

<p>Here’s an example of running a Dart file on the command line:</p>

<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> dart <span class="nt">--enable-asserts</span> test.dart
</code></pre></div></div>

<aside class="alert alert-info">
  <p><strong>Note:</strong> You can’t use <code class="highlighter-rouge">dart</code> to run mobile apps or web apps
(apps that include <code class="highlighter-rouge">dart:html</code>, or that depend on libraries
that use the browser environment).</p>
</aside>

<h3 id="options">
<a id="options" class="anchor" href="#options" aria-hidden="true"><span class="octicon octicon-link"></span></a>Options</h3>

<p>Common command-line options for dart include:</p>

<dl>
  <dt><code class="highlighter-rouge">--enable-asserts</code></dt>
  <dd>Enables <code class="highlighter-rouge">assert</code> statements. When asserts are enabled, an
<a href="/guides/language/language-tour#assert">assert statement</a>
checks a boolean condition, raising an exception if the condition is false.</dd>
  <dt><code class="highlighter-rouge">--packages=&lt;path&gt;</code></dt>
  <dd>Specifies the path to the package resolution configuration file.
For more information, see
<a href="https://github.com/lrhn/dep-pkgspec/blob/master/DEP-pkgspec.md">Package Resolution Configuration File</a>.
<em>This option cannot be used with <code class="highlighter-rouge">--package-root</code>.</em>
</dd>
  <dt>
<code class="highlighter-rouge">-p &lt;path&gt;</code> or <code class="highlighter-rouge">-package-root=&lt;path&gt;</code>
</dt>
  <dd>Specifies where to find imported libraries.
<em>This option cannot be used with <code class="highlighter-rouge">--packages</code>.</em>
</dd>
  <dt><code class="highlighter-rouge">--old_gen_heap_size=&lt;num&gt;</code></dt>
  <dd>Sets the upper limit of
<a href="https://dart-lang.github.io/observatory/glossary#old-generation">old space</a> to <code class="highlighter-rouge">&lt;num&gt;</code> MB.</dd>
  <dt><code class="highlighter-rouge">--version</code></dt>
  <dd>Displays VM version information.</dd>
  <dt>
<code class="highlighter-rouge">-h</code> or <code class="highlighter-rouge">--help</code>
</dt>
  <dd>Displays help. (Add <code class="highlighter-rouge">-v</code> for information about all options.)</dd>
</dl>

<h3 id="observatory-options">
<a id="observatory-options" class="anchor" href="#observatory-options" aria-hidden="true"><span class="octicon octicon-link"></span></a>Observatory options</h3>

<p>Observatory is a tool for profiling and debugging your apps.
You can use the following flags to enable Observatory and to
instruct the VM to delay the start up, or the exit, of an isolate:</p>

<dl>
  <dt><code class="highlighter-rouge">--enable-vm-service</code></dt>
  <dd>Enables Observatory on localhost port 8181.</dd>
  <dt><code class="highlighter-rouge">--enable-vm-service=&lt;port&gt;</code></dt>
  <dd>Enables Observatory on localhost for the specific port.</dd>
  <dt><code class="highlighter-rouge">--enable-vm-service=&lt;port&gt;/&lt;IP address&gt;</code></dt>
  <dd>Enables Observatory on an external network using the specified
IP address and port. For example:
<code class="highlighter-rouge">--enable-vm-service=9999/0.0.0.0</code>
</dd>
  <dt><code class="highlighter-rouge">--pause-isolates-on-exit</code></dt>
  <dd>Causes the VM to pause each isolate that would otherwise exit.
If your standalone app executes quickly,
it might exit before you can open Observatory. To avoid this situation,
specify this flag on startup.  You must explicitly release all isolates
in the <a href="https://dart-lang.github.io/observatory/debugger.html">Observatory debugger</a>.</dd>
  <dt><code class="highlighter-rouge">--pause-isolates-on-start</code></dt>
  <dd>Causes the VM to pause before starting any isolate.
You must explicitly start each isolate in the
<a href="https://dart-lang.github.io/observatory/debugger.html">Observatory debugger</a>.</dd>
  <dt><code class="highlighter-rouge">--observe</code></dt>
  <dd>A shortcut that combines <code class="highlighter-rouge">--enable-vm-service</code> and
<code class="highlighter-rouge">--pause-isolates-on-exit</code>.</dd>
  <dt><code class="highlighter-rouge">--profile</code></dt>
  <dd>On Windows, Observatory’s
<a href="https://dart-lang.github.io/observatory/cpu-profile.html">CPU Profiler</a> screen
is disabled by default. Use this option to enable it.</dd>
</dl>

<p>The following is an example Observatory run:</p>

<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span> dart <span class="nt">--observe</span> &lt;script&gt;.dart
</code></pre></div></div>

<p>For more information, see <a href="https://dart-lang.github.io/observatory/">Observatory.</a></p>

<h3 id="snapshot-option">
<a id="snapshot-option" class="anchor" href="#snapshot-option" aria-hidden="true"><span class="octicon octicon-link"></span></a>Snapshot option</h3>

<p>You can also generate snapshots:</p>

<dl>
  <dt><code class="highlighter-rouge">--snapshot=&lt;filename&gt;</code></dt>
  <dd>Generates a snapshot in the specified file. For information
on generating and running snapshots, see
<a href="https://github.com/dart-lang/sdk/wiki/Snapshots">Snapshots</a> on GitHub.</dd>
</dl>

          

        </div>
      </article>
    </main>
    <footer id="page-footer">
  <div class="container">
    <div class="row">
      <div class="col-md-12 col-lg-3">
        <div class="content">
          <div class="brand">
            <img src="/assets/shared/dart/logo+text/horizontal/mono-004b4974b3112e2d9136b1c457037dfd9fe54e2e69e850d777891e5c2a57a78d.svg" alt="Dart logo" class="brand"/>
          </div>
          <h4><a href="/terms">Terms</a> | <a href="https://policies.google.com/privacy">Privacy</a></h4>
          <style>.menu .material-icons { font-size: 14px; }</style><ul class="menu">
            <li>Site&nbsp;<a href="http://creativecommons.org/licenses/by/3.0/" class="no-automatic-external">CC&nbsp;BY&nbsp;3.0</a></li>
            <li>
              <a href="https://github.com/dartchina/site-www-cn"
                 title="This site's source is on GitHub."
                 class="no-automatic-external"><i class="fab fa-github fa-sm"></i></a>
              &nbsp;
              <a href="https://github.com/dartchina/site-www-cn/issues"
                 title="File an issue about this site."
                 class="no-automatic-external"><i class="fas fa-bug fa-sm"></i></a>
              &nbsp;
              <a 
                 title="Site built on 2019/04/08 04:33 PDT"
                 
                 class="no-automatic-external"><i class="material-icons">build</i></a>
            </li>
          </ul>
        </div>
      </div>
      <div class="col-md-4 col-lg-3">
        <div class="content">
          <h4>技术</h4>
          <ul>
            <li><a href="https://flutterchina.club">Dart 移动开发 (Flutter)</a></li>
            <li><a href="https://webdev.dartlang.org">Dart web 开发</a></li>
            <li><a href="/server">Dart 服务器开发</a></li>
            <li><a href="https://dart-lang.github.io/observatory/">Observatory 工具</a></li>
            <li><a href="/guides/libraries">Dart 库</a></li>
            <li><a href="/guides/language">Dart 编程语言</a></li>
          </ul>
        </div>
      </div>

      <div class="col-md-4 col-lg-3">
        <div class="content">
          <h4>资源</h4>
          <ul>
            <li><a href="https://api.dartlang.org/stable">API 参考</a></li>
            <li><a href="https://dartpad.cn">DartPad</a></li>
            <li><a href="https://pub.dartlang.org">Dart packages</a></li>
            <li><a href="https://news.dartlang.org">Dart 新闻</a></li>
            <li><a href="https://github.com/dart-lang/sdk/issues">Dart bugs 和 <br> 新需求</a></li>
          </ul>
        </div>
      </div>

      <div class="col-md-4 col-lg-3">
        <div class="content">
          <h4>社区</h4>
          <ul>
            <li><a href="/community">支持和邮件列表</a></li>
            <li><a href="/community/who-uses-dart">谁在用Dart</a></li>
            <li><a href="http://stackoverflow.com/questions/tagged/dart">Stack Overflow</a></li>
            <li><a href="https://gitter.im/dart-lang/home">Gitter 聊天室</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</footer>

  </body>
</html>
