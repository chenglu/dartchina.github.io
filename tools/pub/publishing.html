<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Language" content="en_US" />
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Learn how to publish a Dart package to pub.dartlang.org.">
  <title>Publishing a Package | Dart</title>

  <!-- Favicon / Touch Icons -->
  <link rel="icon" sizes="64x64" href="/assets/shared/dart/icon/64.png">
  <link href="/assets/touch-icon-iphone.png" rel="apple-touch-icon">
  <link href="/assets/touch-icon-ipad.png" rel="apple-touch-icon" sizes="76x76">
  <link href="/assets/touch-icon-iphone-retina.png" rel="apple-touch-icon" sizes="120x120">
  <link href="/assets/touch-icon-ipad-retina.png" rel="apple-touch-icon" sizes="152x152">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@dart_lang" />
  <meta name="twitter:title" content="Publishing a Package" />
  <meta name="twitter:description" content="Learn how to publish a Dart package to pub.dartlang.org." />

  <!-- Open Graph -->
  <meta property="og:title" content="Publishing a Package" />
  <meta property="og:description" content="Learn how to publish a Dart package to pub.dartlang.org." />
  <meta property="og:url" content="https://www.dartlang.org/tools/pub/publishing" />
  <meta property="og:image" content="https://www.dartlang.org/assets/shared/dart-logo-for-shares.png?2" />

  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,300,700' rel='stylesheet' type='text/css'>
  <link type="text/css" rel="stylesheet" href="/assets/style.css">
  
  <!--
    Why don't we use Dart here?

    The only scripting we use here is stuff like the on-click footnotes on the
    front page or resizing of the left nav. These happen to be use cases where
    JavaScript and jQuery are doing just fine. Dart is here for application
    programming, not page scripting.
   -->
  <script type="text/javascript" src="/assets/main.js"></script>
  
  <script>

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-26406144-4', 'auto');
ga('send', 'pageview');

</script>


</head>

  <body class="default">
    <header id="page-header">
  <nav id="mainnav">
  <div id="menu-toggle"><i class="icon icon-menu"></i></div>
  <a href="/" class="brand" title="Dart">
    <img src="/assets/shared/dart/logo+text/horizontal/default.svg" alt="Dart">
  </a>
  <ul>
    <li class="mainnav__get-started"><a href="/guides/get-started"><span>入门</span></a></li>
    <li><a href="/guides/language">语言</a></li>
    <li><a href="/guides/libraries">库</a></li>
    <li><a href="/tools">工具</a></li>
    
    
    <li class="dropdown">
      <a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Dart 2 <span class="caret"></span></a>
      <ul class="dropdown-menu">
        

<li><a href="https://v1-dartlang-org.firebaseapp.com/tools/pub/publishing" class="no-automatic-external">1.24.3&nbsp;&nbsp;(archive)</a></li><li><a class="active">2.0.0-dev.69.4&nbsp;&nbsp;(beta)</a></li>

        <li role="separator" class="divider"></li>
        <li><a href="/dart-2#migration">迁移指南</a></li>
      </ul>
    </li>
    
    <li class="searchfield">
      <form class="navbar-search" action="/search" id="cse-search-box">
        <input type="hidden" name="cx" value="011220921317074318178:_yy-tmb5t_i">
        <input type="hidden" name="ie" value="UTF-8">
        <input type="hidden" name="hl" value="en">
        <input type="search" name="q" id="q" autocomplete="off" placeholder="Search">
        <button type="submit"><i class="icon icon-search"></i></button>
      </form>
    </li>
  </ul>
</nav>

  
</header>

    <main id="page-content">
      <div id="sidenav" class="">
  <div class="content">
    <a href="/" class="brand" title="Dart">
      <img src="/assets/shared/dart/logo+text/horizontal/default.svg" alt="Dart">
    </a>

    <div class="sidenav__search">
      <p>
        <a href="/search">Search <i class="icon icon-search"></i></a>
      </p>
    </div>

    <ul>
      <li>
        <a class="btn btn-default" href="/guides/get-started">入门</a>
      </li>
    </ul>
    <h4 ><a href="/guides/language" title="语言">语言</a></h4>
  <ul><li >
          <a href="/guides/language/language-tour" title="概览">概览</a>
        </li>
        
        <li >
          <a href="/guides/language/effective-dart" title="Effective Dart">Effective Dart</a>
          <i class="icon icon-arrow"></i>
          <ul><li >
                <a href="/guides/language/effective-dart/style" title="风格">风格</a>
              </li><li >
                <a href="/guides/language/effective-dart/documentation" title="文档">文档</a>
              </li><li >
                <a href="/guides/language/effective-dart/usage" title="使用">使用</a>
              </li><li >
                <a href="/guides/language/effective-dart/design" title="设计">设计</a>
              </li>
          </ul><li >
          <a href="/samples" title="示例代码">示例代码</a>
        </li>
  </ul><h4 ><a href="/guides/libraries" title="库">库</a></h4>
  <ul><li >
          <a href="/guides/libraries/library-tour" title="概览">概览</a>
        </li>
  </ul><h4 ><a href="/guides/platforms" title="平台">平台</a></h4>
  <ul><li >
          <a href="https://flutter.io" title="移动端 (Flutter)">移动端 (Flutter)</a>
        </li><li >
          <a href="https://webdev.dartlang.org" title="web">web</a>
        </li><li >
          <a href="/dart-vm" title="服务器">服务器</a>
        </li>
  </ul><h4 ><a href="/guides/testing" title="测试">测试</a></h4>
  <ul>
  </ul><h4 >资源</h4>
  <ul><li >
          <a href="/install" title="安装">安装</a>
        </li><li >
          <a href="/codelabs" title="Codelabs">Codelabs</a>
        </li><li >
          <a href="/tutorials" title="学习指南">学习指南</a>
        </li><li >
          <a href="/articles" title="文章">文章</a>
        </li><li class="active">
          <a href="/tools" title="工具">工具</a>
        </li><li >
          <a href="/community" title="社区支持">社区支持</a>
        </li>
  </ul>
  </div>
</div>

      
<div id="toc">
  <div class="content">
    <h4>On this page
      <a href="#page-content" title="Back to top" class="pull-right"><i class="icon icon-caret-up"></i></a>
    </h4>
    <ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#preparing-to-publish">Preparing to publish</a>
<ul>
<li class="toc-entry toc-h3"><a href="#important-files">Important files</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#publishing-your-package">Publishing your package</a></li>
<li class="toc-entry toc-h2"><a href="#what-files-are-published">What files are published?</a></li>
<li class="toc-entry toc-h2"><a href="#authors-versus-uploaders">Authors versus uploaders</a></li>
<li class="toc-entry toc-h2"><a href="#publishing-is-forever">Publishing is forever</a></li>
<li class="toc-entry toc-h2"><a href="#resources">Resources</a></li>
</ul>
  </div>
</div>


      <article>
        <div class="content">
          
<div class="banner alert alert-info">
  <p class="banner__text">
    欢迎来到 <a href="/dart-2"><b>Dart 2</b></a>!
    如果您仍在使用 Dart 1.x? 可访问查阅
    <a href="https://v1-dartlang-org.firebaseapp.com" class="no-automatic-external" target="_blank" rel="noopener">存档站点</a>
    或 <a href="/dart-2#migration">迁移指南</a>.
  </p>
</div>


          

          <ol class="breadcrumb list-unstyled" vocab="http://schema.org/" typeof="BreadcrumbList">
  
    <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
      <a property="item" typeof="WebPage" href="/tools/">
      <span property="name">Tools</span>
      </a>
      <meta property="position" content="1" />
    </li>
  
    <li class="breadcrumb-item" property="itemListElement" typeof="ListItem">
      <a property="item" typeof="WebPage" href="/tools/pub/">
      <span property="name">Pub</span>
      </a>
      <meta property="position" content="2" />
    </li>
  
    <li class="breadcrumb-item active" property="itemListElement" typeof="ListItem">
      
      <span property="name">Publishing a Package</span>
      
      <meta property="position" content="3" />
    </li>
  
  </ol>
          <div>
            <ul class="page-github-links-menu" role="group">
  <li>
    <a href="https://github.com/dart-lang/site-www/tree/master/src_zh_CN/tools/pub/publishing.md"
      class="no-automatic-external"
      title="View page source"
      target="_blank" rel="noopener">
      <i class="fab fa-github fa-sm"></i>
    </a>
  </li>
  <li>
    <a href="https://github.com/dart-lang/site-www/issues/new?title='Publishing a Package' page issue&body=From URL: https://www.dartlang.org/tools/pub/publishing"
      class="no-automatic-external"
      title="Report a bug on this page" target="_blank" rel="noopener">
      <i class="fas fa-bug fa-sm"></i>
    </a>
  </li>
</ul>

            <h1>Publishing a Package</h1>
          </div>
          <p><a href="/tools/pub">Pub</a> isn’t just for using other people’s packages.
It also allows you to share your packages with the world. If you have a useful
project and you want others to be able to use it, use the <code class="highlighter-rouge">pub publish</code>
command.</p>

<aside class="alert alert-info">
  <p><strong>Note:</strong>
To publish to a location other than <code class="highlighter-rouge">pub.dartlang.org</code>,
or to prevent publication anywhere, use the <code class="highlighter-rouge">publish_to</code> field,
as defined in the <a href="/tools/pub/pubspec">pubspec</a>.</p>
</aside>

<h2 id="preparing-to-publish">
<a id="preparing-to-publish" class="anchor" href="#preparing-to-publish" aria-hidden="true"><span class="octicon octicon-link"></span></a>Preparing to publish</h2>

<p>When publishing a package, it’s important to follow the <a href="/tools/pub/pubspec">pubspec
format</a> and
<a href="/tools/pub/package-layout">package layout conventions</a>.
Some of these are required in order for others to be able to use your package.
Others are suggestions to help make it easier for users to understand and work
with your package. In both cases, pub tries to help you by pointing out what
changes will help make your package play nicer with the Dart ecosystem. There
are a few additional requirements for uploading a package:</p>

<ul>
  <li>
    <p>You must include a license file (named <code class="highlighter-rouge">LICENSE</code>, <code class="highlighter-rouge">COPYING</code>, or some
variation) that contains an <a href="http://opensource.org/">open-source license</a>. We
recommend the <a href="http://opensource.org/licenses/BSD-2-Clause">BSD license</a>,
which is used by Dart itself. You must also have the legal right to
redistribute anything that you upload as part of your package.</p>
  </li>
  <li>
    <p>Your package must be less than 10 MB large after gzip compression. If
it’s too large, consider splitting it into multiple packages, or cutting down
on the number of included resources or examples.</p>
  </li>
  <li>
    <p>Your package should only have hosted dependencies. Git dependencies are
allowed but strongly discouraged; not everyone using Dart has Git installed,
and Git dependencies don’t support version resolution as well as hosted
dependencies do.</p>
  </li>
</ul>

<p>Be aware that the email address associated with your Google account is
displayed on <a href="https://pub.dartlang.org">pub.dartlang.org</a> along with any
packages you upload.</p>

<h3 id="important-files">
<a id="important-files" class="anchor" href="#important-files" aria-hidden="true"><span class="octicon octicon-link"></span></a>Important files</h3>

<p>Pub uses the contents of a few files to create a page for your
package at <code class="highlighter-rouge">pub.dartlang.org/packages/&lt;your_package&gt;</code>. Here are the files that
affect how your package’s page looks:</p>

<ul>
  <li>
<strong>README</strong>: The README file (<code class="highlighter-rouge">README</code>, <code class="highlighter-rouge">README.md</code>, <code class="highlighter-rouge">README.mdown</code>,
<code class="highlighter-rouge">README.markdown</code>) is the main content featured in your package’s page.</li>
  <li>
<strong>CHANGELOG</strong>: Your package’s CHANGELOG (<code class="highlighter-rouge">CHANGELOG</code>, <code class="highlighter-rouge">CHANGELOG.md</code>,
<code class="highlighter-rouge">CHANGELOG.mdown</code>, <code class="highlighter-rouge">CHANGELOG.markdown</code>), if found, will also be featured in a
tab on your package’s page, so that developers can read it right from
pub.dartlang.org.</li>
  <li>
<strong>The pubspec</strong>: Your package’s <code class="highlighter-rouge">pubspec.yaml</code> file is used to fill out
details about your package on the right side of your package’s page, like its
description, authors, etc.</li>
</ul>

<h2 id="publishing-your-package">
<a id="publishing-your-package" class="anchor" href="#publishing-your-package" aria-hidden="true"><span class="octicon octicon-link"></span></a>Publishing your package</h2>

<p>For your first time around, you can perform a dry run:</p>

<pre>$ pub publish --dry-run</pre>

<p>Pub will check to make sure that your package follows the
<a href="/tools/pub/pubspec">pubspec format</a> and
<a href="/tools/pub/package-layout">package layout conventions</a>, and then upload your package
to <a href="https://pub.dartlang.org">pub.dartlang.org</a>. Pub will also show you all of
the files it intends to publish. Here’s an example of publishing a package
named <code class="highlighter-rouge">transmogrify</code>:</p>

<pre>Publishing transmogrify 1.0.0 to https://pub.dartlang.org:
    .gitignore
    CHANGELOG.md
    README.md
    lib
        transmogrify.dart
        src
            transmogrifier.dart
            transmogrification.dart
    pubspec.yaml
    test
        transmogrify_test.dart

Package has 0 warnings.</pre>

<p>When you’re ready to publish your package, remove the <code class="highlighter-rouge">--dry-run</code> argument:</p>

<pre>$ pub publish</pre>

<p>After your package has been successfully uploaded to
<a href="https://pub.dartlang.org/">pub.dartlang.org</a>, any pub user will be able to
download it or depend on it in their projects. For example, if you just
published version 1.0.0 of your <code class="highlighter-rouge">transmogrify</code> package, then another Dart
developer can add it as a dependency in their <code class="highlighter-rouge">pubspec.yaml</code>:</p>

<pre class="prettyprint lang-yaml">dependencies:
  transmogrify: ^1.0.0</pre>

<h2 id="what-files-are-published">
<a id="what-files-are-published" class="anchor" href="#what-files-are-published" aria-hidden="true"><span class="octicon octicon-link"></span></a>What files are published?</h2>

<p><strong>All files</strong> in your package are included in the published package, with
the following exceptions:</p>

<ul>
  <li>Any <code class="highlighter-rouge">packages</code> directories.</li>
  <li>Your package’s <a href="/tools/pub/glossary#lockfile">lockfile</a>.</li>
  <li>If you aren’t using Git, all <em>hidden</em> files (that is,
files whose names begin with <code class="highlighter-rouge">.</code>).</li>
  <li>If you’re using Git, any files ignored by your <code class="highlighter-rouge">.gitignore</code> file.</li>
</ul>

<p>Be sure to delete any files you don’t want to include (or add them to
<code class="highlighter-rouge">.gitignore</code>). <code class="highlighter-rouge">pub publish</code> lists all files that it’s going to publish
before uploading your package,
so examine the list carefully before completing your upload.</p>

<h2 id="authors-versus-uploaders">
<a id="authors-versus-uploaders" class="anchor" href="#authors-versus-uploaders" aria-hidden="true"><span class="octicon octicon-link"></span></a>Authors versus uploaders</h2>

<p>The package authors as listed in the <code class="highlighter-rouge">pubspec.yaml</code> file
are different from the list of people authorized to publish that package.
Whoever publishes the first version of some package automatically becomes
the first and only person authorized to upload additional versions of the package.
To allow or disallow other people to upload versions,
use the <a href="cmd/pub-uploader"><code class="highlighter-rouge">pub uploader</code></a> command.</p>

<h2 id="publishing-is-forever">
<a id="publishing-is-forever" class="anchor" href="#publishing-is-forever" aria-hidden="true"><span class="octicon octicon-link"></span></a>Publishing is forever</h2>

<p>Keep in mind that publishing is forever. As soon as you publish your package,
users will be able to depend on it. Once they start doing that, removing
the package would break theirs. To avoid that, pub strongly discourages
deleting packages. You can always upload new versions of your package, but
old ones will continue to be available for users that aren’t ready to
upgrade yet.</p>

<h2 id="resources">
<a id="resources" class="anchor" href="#resources" aria-hidden="true"><span class="octicon octicon-link"></span></a>Resources</h2>

<p>For more information, see the reference pages for:</p>

<ul>
  <li><a href="/tools/pub/cmd/pub-lish"><code class="highlighter-rouge">pub publish</code></a></li>
  <li><a href="/tools/pub/cmd/pub-uploader"><code class="highlighter-rouge">pub uploader</code></a></li>
</ul>

          

        </div>
      </article>
    </main>
    <footer id="page-footer">
  <div class="container">
    <div class="row">
      <div class="col-sm-12 col-md-3">
        <div class="content">
          <div class="brand">
            <img src="/assets/shared/dart/logo+text/horizontal/mono.svg" alt="Dart logo" class="brand"/>
          </div>
          <h4><a href="/terms">Terms</a> | <a href="https://policies.google.com/privacy">Privacy</a></h4>
          <style>.menu .material-icons { font-size: 14px; }</style><ul class="menu">
            <li>Site&nbsp;<a href="http://creativecommons.org/licenses/by/3.0/" class="no-automatic-external">CC&nbsp;BY&nbsp;3.0</a></li>
            <li>
              <a href="https://github.com/dart-lang/site-www"
                 title="This site's source is on GitHub."
                 class="no-automatic-external"><i class="fab fa-github fa-sm"></i></a>
              &nbsp;
              <a href="https://github.com/dart-lang/site-www/issues"
                 title="File an issue about this site."
                 class="no-automatic-external"><i class="fas fa-bug fa-sm"></i></a>
              &nbsp;
              <a 
                 title="Site built on 2018/07/30 13:23 CST"
                 
                 class="no-automatic-external"><i class="material-icons">build</i></a>
            </li>
          </ul>
        </div>
      </div>
      <div class="col-sm-4 col-md-3">
        <div class="content">
          <h4>技术</h4>
          <ul>
            <li><a href="https://flutter.io">Dart 移动开发 (Flutter)</a></li>
            <li><a href="https://webdev.dartlang.org">Dart web 开发</a></li>
            <li><a href="/dart-vm">Dart 服务器开发</a></li>
            <li><a href="https://dart-lang.github.io/observatory/">Observatory 工具</a></li>
            <li><a href="/guides/libraries">Dart 库</a></li>
            <li><a href="/guides/language">Dart 编程语言</a></li>
          </ul>
        </div>
      </div>

      <div class="col-sm-4 col-md-3">
        <div class="content">
          <h4>资源</h4>
          <ul>
            <li><a href="https://api.dartlang.org/dev">API 参考</a></li>
            <li><a href="https://dartpad.dartlang.org/">DartPad</a></li>
            <li><a href="https://pub.dartlang.org/">Pub packages</a></li>
            <li><a href="http://news.dartlang.org/">Dart 新闻</a></li>
            <li><a href="https://github.com/dart-lang/sdk/issues">Dart bugs 和 <br> 新需求</a></li>
          </ul>
        </div>
      </div>

      <div class="col-sm-4 col-md-3">
        <div class="content">
          <h4>社区</h4>
          <ul>
            <li><a href="/community">支持和邮件列表</a></li>
            <li><a href="/community/who-uses-dart">谁在用Dart</a></li>
            <li><a href="http://stackoverflow.com/questions/tagged/dart">Stack Overflow</a></li>
            <li>G+ <a href="https://plus.google.com/communities/114566943291919232850">社区</a> &
                <a href="https://plus.google.com/b/109866369054280216564/+dartlang">公告组</a></li>
            <li><a href="https://gitter.im/dart-lang/home">Gitter聊天室</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</footer>

  </body>
</html>
