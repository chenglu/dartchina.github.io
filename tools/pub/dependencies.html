<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Language" content="en_US" />
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Add other packages to your app. Specify package locations, version constraints, and more.">
  <title>Package dependencies | Dart</title>

  <!-- Favicon / Touch Icons -->
  <link rel="icon" sizes="64x64" href="/assets/shared/dart/icon/64.png">
  <link href="/assets/touch-icon-iphone-a46c306c4fbfae0b28d63f512b01d7cb2ccf1e4ca9d7f3aab15ba1170beed4a0.png" rel="apple-touch-icon">
  <link href="/assets/touch-icon-ipad-d0181720760b3912858b6d40da1d5586b1e92c7c8656a485ea41005674401e6b.png" rel="apple-touch-icon" sizes="76x76">
  <link href="/assets/touch-icon-iphone-retina-3d9821a631425376ac6203dea3c23c1940ab7b5c506a25406662fab76cee2e0b.png" rel="apple-touch-icon" sizes="120x120">
  <link href="/assets/touch-icon-ipad-retina-b9715401952522f1daee2b4a4064a1bbfb5ffab78d0a47a7226dc87444d51c32.png" rel="apple-touch-icon" sizes="152x152">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@dart_lang" />
  <meta name="twitter:title" content="Package dependencies" />
  <meta name="twitter:description" content="Add other packages to your app. Specify package locations, version constraints, and more." />

  <!-- Open Graph -->
  <meta property="og:title" content="Package dependencies" />
  <meta property="og:description" content="Add other packages to your app. Specify package locations, version constraints, and more." />
  <meta property="og:url" content="https://www.dartlang.org/tools/pub/dependencies.html" />
  <meta property="og:image" content="https://www.dartlang.org/assets/shared/dart-logo-for-shares.png?2" />
  <link href="https://fonts.googleapis.com/css?family=Google+Sans:300,400,500|Google+Sans+Display:400|Roboto:300,400,500|Roboto+Mono:300,400,700|Material+Icons" rel="stylesheet">
  <link rel="stylesheet" type="text/css" integrity="sha256-lXNilrVoDl/TpTBbRIJ9fTZIFZ6OcziJrUwDEUq+4zk=" crossorigin="anonymous" href="/assets/main-95736296b5680e5fd3a5305b44827d7d3648159e8e733889ad4c03114abee339.css">
  <script src="/assets/main-81783b1b9a1d39209aa2ec2eab702b1f7908b15082a3aef81ba13f2255d48ec4.js" integrity="sha256-gXg7G5odOSCaouwuq3ArH3kIsVCCo674G6E/IlXUjsQ=" crossorigin="anonymous" type="text/javascript"></script>
  <script>

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-26406144-4', 'auto');
ga('send', 'pageview');

</script>


 </head>
  <body class="default show_banner">
    <header id="page-header" class="site-header">
  <nav id="mainnav" class="site-header">
  <div id="menu-toggle"><i class="icon icon-menu"></i></div>
  <a href="/" class="brand" title="Dart">
    <img src="/assets/shared/dart/logo+text/horizontal/white-e71fb382ad5229792cc704b3ee7a88f8013e986d6e34f0956d89c453b454d0a5.svg" alt="Dart">
  </a>
  <ul class="navbar">
    <li class="mainnav__get-started">
      <a href="/docs" class="nav-link active"><span>文档</span></a>
    </li>
    <li>
      <a href="/platforms" class="nav-link">平台</a>
    </li>
    <li>
      <a href="/community" class="nav-link">社区</a>
    </li>
    <li>
      <a href="https://dartpad.cn/" target="_blank" class="nav-link no-automatic-external">体验 Dart</a>
    </li>
    <li>
      <a href="/get-dart" class="nav-link">安装 Dart</a>
    </li>
    <li><a href="/about_zh_CN">关于</a></li>
    <li class="searchfield">
      <form action="/search" class="site-header__search form-inline" id="cse-search-box">
        <input type="hidden" name="cx" value="011220921317074318178:_yy-tmb5t_i">
        <input type="hidden" name="ie" value="UTF-8">
        <input type="hidden" name="hl" value="en">
        <input class="site-header__searchfield form-control" type="search" name="q" id="q" autocomplete="off" placeholder="Search" aria-label="Search">
      </form>
    </li>
  </ul>
</nav>

  
</header>
 <div class="banner">
  <p class="banner__text">
    
    
    Dart 2.3 发布，针对构建用户界面进行了优化。
    <a class="external" href="https://medium.com/dartlang/announcing-dart-2-3-optimized-for-building-user-interfaces-e84919ca1dff">了解更多。</a>
  </p>
</div>
 

    <div id="sidenav" class="">
  <form action="/search/" class="site-header__search form-inline">
    <input class="site-header__searchfield form-control" type="search" name="q" id="q" autocomplete="off" placeholder="Search" aria-label="Search">
  </form>

  <div class="site-sidebar">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a href="/platforms" class="nav-link">平台</a>
      </li>
      <li class="nav-item">
        <a href="/community" class="nav-link">社区</a>
      </li>
      <li class="nav-item">
        <a href="https://dartpad.dartlang.org" class="nav-link">体验 Dart</a>
      </li>
      <li class="nav-item">
        <a href="/guides" class="nav-link active">文档</a>
      </li>
    </ul>

    <ul class="nav flex-column"><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-1" role="button"
        aria-expanded="false" aria-controls="sidenav-1"
      >示例 & 概览</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-1">
        <li class="nav-item">
    <a class="nav-link" href="/samples">语言示例</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/codelabs">Codelab</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials">概览</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-2" role="button"
        aria-expanded="false" aria-controls="sidenav-2"
      >语言</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-2">
        <li class="nav-item">
    <a class="nav-link" href="/guides/language/language-tour">概览</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/language/sound-dart">类型系统</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/language/spec">规范</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/language/effective-dart">Effective Dart</a>
  </li>
</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-3" role="button"
        aria-expanded="false" aria-controls="sidenav-3"
      >核心库</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3">
        <li class="nav-item">
    <a class="nav-link" href="/guides/libraries">综述</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/libraries/library-tour">概览</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-3-3"
      href="#sidenav-3-3" role="button"
      aria-expanded="false" aria-controls="sidenav-3-3"
    >文章
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-3-3">
      <li class="nav-item">
    <a class="nav-link" href="/articles/libraries/dart-io">Intro to dart:io</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/articles/libraries/creating-streams">Creating streams</a>
  </li></ul>
  </li>

</ul>
    </li><li class="nav-item">
      <a class="nav-link active" data-toggle="collapse" href="#sidenav-4" role="button"
        aria-expanded="true" aria-controls="sidenav-4"
      >包</a>

      <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-4">
        <li class="nav-item">
    <a class="nav-link" href="/guides/packages">如何使用包</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/libraries/useful-libraries">常用的包</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/libraries/create-library-packages">创建包</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/publishing">发布包</a>
  </li><li class="nav-item">
    <a class="nav-link active collapsable"
      data-toggle="collapse" data-target="#sidenav-4-5"
      href="#sidenav-4-5" role="button"
      aria-expanded="true" aria-controls="sidenav-4-5"
    >引用包
    </a>
    <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-4-5">
      <li class="nav-item">
    <a class="nav-link active" href="/tools/pub/dependencies">依赖</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/glossary">术语</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/package-layout">包的设计约定</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/environment-variables">Pub 环境变量</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/pubspec">Pubspec 文件</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/troubleshoot">Pub 问题分析与解决</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/versioning">版本</a>
  </li></ul>
  </li>

</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-5" role="button"
        aria-expanded="false" aria-controls="sidenav-5"
      >开发</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5">
        <li class="nav-item">
    <a class="nav-link" href="/tutorials/language/futures">Futures & Async-Await</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/json">使用 JSON</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials/language/streams">Stream</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/mobile">移动应用</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-5-5"
      href="#sidenav-5-5" role="button"
      aria-expanded="false" aria-controls="sidenav-5-5"
    >命令行应用 & 服务应用
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5-5">
      <li class="nav-item">
    <a class="nav-link" href="/server">综述</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials/server/get-started">入门</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials/server/cmdline">编写命令行应用</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials/server/httpserver">编写 HTTP 客户端和服务端应用</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/server/c-interop">C & C++ 交互</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/server/libraries">库和包</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-5-6"
      href="#sidenav-5-6" role="button"
      aria-expanded="false" aria-controls="sidenav-5-6"
    >Web 应用
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5-6">
      <li class="nav-item">
    <a class="nav-link" href="/web">综述</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials/web/get-started">入门</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tutorials/web/fetch-data">动态获取数据</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-5-6-4"
      href="#sidenav-5-6-4" role="button"
      aria-expanded="false" aria-controls="sidenav-5-6-4"
    >底层 Web 编程
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-5-6-4">
      <li class="nav-item">
    <a class="nav-link" href="/tutorials/web/low-level-html/connect-dart-html">Dart 和 HTML 关联</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tutorials/web/low-level-html/add-elements">在 DOM 中增加 Element</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tutorials/web/low-level-html/remove-elements">在 DOM 中移除 Element</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link" href="/web/js-interop">JS/TS 交互</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/web/deployment">开发</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/web/libraries">库和包</a>
  </li></ul>
  </li>

</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-6" role="button"
        aria-expanded="false" aria-controls="sidenav-6"
      >工具 & 技巧</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6">
        <li class="nav-item">
    <a class="nav-link" href="/tools">综述</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-6-2"
      href="#sidenav-6-2" role="button"
      aria-expanded="false" aria-controls="sidenav-6-2"
    >编辑 & 调试
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6-2">
      <li class="nav-item">
    <a class="nav-link" href="/tools/dart-devtools">Dart DevTool</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/dartpad">DartPad</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/jetbrains-plugin">IntelliJ & Android Studio</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/vs-code">VS Code</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-6-3"
      href="#sidenav-6-3" role="button"
      aria-expanded="false" aria-controls="sidenav-6-3"
    >Command-line tools
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6-3">
      <li class="nav-item">
    <a class="nav-link collapsable"
      data-toggle="collapse" data-target="#sidenav-6-3-1"
      href="#sidenav-6-3-1" role="button"
      aria-expanded="true" aria-controls="sidenav-6-3-1"
    >Dart SDK
    </a>
    <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-6-3-1">
      <li class="nav-item">
    <a class="nav-link" href="/tools/sdk">综述</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart-vm">dart (Dart VM)</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart2aot">dart2aot & dartaotruntime</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dart2js">dart2js (prod JS)</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dartanalyzer">dartanalyzer</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dartdevc">dartdevc (dev JS)</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dartdoc">dartdoc</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/dartfmt">dartfmt</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/pub/cmd">pub</a>
  </li>
  </ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable"
      data-toggle="collapse" data-target="#sidenav-6-3-2"
      href="#sidenav-6-3-2" role="button"
      aria-expanded="true" aria-controls="sidenav-6-3-2"
    >其他命令行工具
    </a>
    <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-6-3-2">
      <li class="nav-item">
    <a class="nav-link" href="/tools/build_runner">build_runner</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="/tools/webdev">webdev</a>
  </li>
  </ul>
  </li>
</ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-6-4"
      href="#sidenav-6-4" role="button"
      aria-expanded="false" aria-controls="sidenav-6-4"
    >源码管理
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6-4">
      <li class="nav-item">
    <a class="nav-link" href="/guides/language/formatting">格式化代码</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/libraries/private-files">哪些内容不应该被提交</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-6-5"
      href="#sidenav-6-5" role="button"
      aria-expanded="false" aria-controls="sidenav-6-5"
    >静态分析
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6-5">
      <li class="nav-item">
    <a class="nav-link" href="/guides/language/analysis-options">Customizing static analysis</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/guides/language/sound-problems">Fixing common type problems</a>
  </li></ul>
  </li>
<li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-6-6"
      href="#sidenav-6-6" role="button"
      aria-expanded="false" aria-controls="sidenav-6-6"
    >测试 & 优化
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-6-6">
      <li class="nav-item">
    <a class="nav-link" href="/guides/testing">测试</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/web/debugging">调试 Web 应用</a>
  </li></ul>
  </li>

</ul>
    </li><li class="nav-item">
      <a class="nav-link collapsed" data-toggle="collapse" href="#sidenav-7" role="button"
        aria-expanded="false" aria-controls="sidenav-7"
      >资源</a>

      <ul class="nav flex-column flex-nowrap collapse " id="sidenav-7">
        <li class="nav-item">
    <a class="nav-link" href="/code-of-conduct">行为守则</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/faq">FAQ</a>
  </li><li class="nav-item">
    <a class="nav-link collapsable collapsed"
      data-toggle="collapse" data-target="#sidenav-7-3"
      href="#sidenav-7-3" role="button"
      aria-expanded="false" aria-controls="sidenav-7-3"
    >历史
    </a>
    <ul class="nav flex-column flex-nowrap collapse " id="sidenav-7-3">
      <li class="nav-item">
    <a class="nav-link" href="/dart-2">迁移到 Dart&nbsp;2</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/web/dart-2">迁移 Web 应用到 Dart&nbsp;2</a>
  </li><li class="nav-item">
    <a class="nav-link" href="/tools/pub/obsolete">过时的 Pub 功能</a>
  </li></ul>
  </li>

</ul>
    </li><li class="nav-item">
      <a class="nav-link " data-toggle="collapse" href="#sidenav-8" role="button"
        aria-expanded="true" aria-controls="sidenav-8"
      >相关网站</a>

      <ul class="nav flex-column flex-nowrap collapse show" id="sidenav-8">
        <li class="nav-item">
    <a class="nav-link" href="https://api.dartlang.org" target="_blank" rel="noopener">API 参考<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://medium.com/dartlang" target="_blank" rel="noopener">Blog<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://dartpad.cn" target="_blank" rel="noopener">DartPad (在线编辑器)<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://flutter.dev" target="_blank" rel="noopener">Flutter<i class="fas fa-external-link-alt"></i></a>
  </li><li class="nav-item">
    <a class="nav-link" href="https://pub.dev" target="_blank" rel="noopener">Pub 包资源<i class="fas fa-external-link-alt"></i></a>
  </li>
</ul>
    </li></ul>

  </div>
</div>

    <main id="page-content">
      







<div id="site-toc--side" class="site-toc ">
  <header class="site-toc__title">
    内容
    <button type="button" class="btn site-toc--button__page-top" aria-label="Page top"></button>
    
  </header>
  <ul class="section-nav nav">
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#dependency-sources">Dependency sources</a>
<ul class="nav">
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#sdk">SDK</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#hosted-packages">Hosted packages</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#git-packages">Git packages</a></li>
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#path-packages">Path packages</a></li>
</ul>
</li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#version-constraints">Version constraints</a>
<ul class="nav">
<li class="toc-entry nav-item toc-h3"><a class="nav-link" href="#caret-syntax">Caret syntax</a></li>
</ul>
</li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#dev-dependencies">Dev dependencies</a></li>
<li class="toc-entry nav-item toc-h2"><a class="nav-link" href="#dependency-overrides">Dependency overrides</a></li>
</ul>
</div>


      <article>
        <div class="content">
          

          <div>
            <div id="page-github-links" class="btn-group" aria-label="Page GitHub links" role="group">
  <a href="https://github.com/dartchina/site-www-cn/tree/src_zh_CN/src_zh_CN/tools/pub/dependencies.md" class="btn no-automatic-external" title="View page source" target="_blank" rel="noopener">
    <i class="fas fa-file-alt fa-sm"></i>
  </a>
  <a href="https://github.com/dartchina/site-www-cn/issues/new?title='Package dependencies' page issue&body=
Page URL: https://www.dartlang.org/tools/pub/dependencies.html%0D%0A
Page source: https://github.com/dartchina/site-www-cn/tree/src_zh_CN/src_zh_CN/tools/pub/dependencies.md%0D%0A
%0D%0A
Found a typo? You can fix it yourself by going to the page source and clicking the pencil icon. Or finish creating this issue.%0D%0A
%0D%0A
Description of issue:" class="btn no-automatic-external" title="Report an issue with this page"
    target="_blank" rel="noopener">
    <i class="fas fa-bug fa-sm"></i>
  </a>
</div>

            <h1>Package dependencies</h1>
          </div>
          







<div id="site-toc--inline" class="site-toc ">
  <header class="site-toc__title">
    内容
    <button type="button" class="btn site-toc--button__page-top" aria-label="Page top"></button>
    
  </header>
  <ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#dependency-sources">Dependency sources</a>
<ul>
<li class="toc-entry toc-h3"><a href="#sdk">SDK</a></li>
<li class="toc-entry toc-h3"><a href="#hosted-packages">Hosted packages</a></li>
<li class="toc-entry toc-h3"><a href="#git-packages">Git packages</a></li>
<li class="toc-entry toc-h3"><a href="#path-packages">Path packages</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#version-constraints">Version constraints</a>
<ul>
<li class="toc-entry toc-h3"><a href="#caret-syntax">Caret syntax</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#dev-dependencies">Dev dependencies</a></li>
<li class="toc-entry toc-h2"><a href="#dependency-overrides">Dependency overrides</a></li>
</ul>
</div>


          <p>Dependencies are one of the core concepts of the <a href="/guides/packages">pub package manager</a>.
A dependency is another package that your package needs in order to work.
Dependencies are specified in your <a href="/tools/pub/pubspec">pubspec</a>.
You only list
<a href="/tools/pub/glossary#immediate-dependency">immediate dependencies</a>—the
software that your package uses directly. Pub handles
<a href="/tools/pub/glossary#transitive-dependency">transitive dependencies</a> for you.</p>

<aside class="alert alert-info">
  <p>To see all the dependencies used by a package, use
<a href="/tools/pub/cmd/pub-deps"><code class="highlighter-rouge">pub deps</code></a>.</p>
</aside>

<p>For each dependency, you specify the <em>name</em> of the package you depend on.
For <a href="/tools/pub/glossary#library-package">library packages</a>,
you specify the <em>range of versions</em> of that package that you allow.
You may also specify the
<a href="/tools/pub/glossary#source"><em>source</em></a> which tells pub how the package can be located,
and any additional <em>description</em> that the source needs to find the package.</p>

<p>Based on what data you want to provide, you can specify dependencies in two
ways. The shortest way is to just specify a name:</p>

<pre class="prettyprint lang-yaml">dependencies:
  transmogrify:</pre>

<p>This creates a dependency on <code class="highlighter-rouge">transmogrify</code> that  allows any version, and looks
it up using the default source, which is the [Pub site](https://pub.dev.
To limit the dependency to a range of versions,
you can provide a <em>version constraint</em>:</p>

<pre class="prettyprint lang-yaml">dependencies:
  transmogrify: ^1.0.0</pre>

<p>This creates a dependency on <code class="highlighter-rouge">transmogrify</code> using the default source and
allowing any version from <code class="highlighter-rouge">1.0.0</code> to <code class="highlighter-rouge">2.0.0</code> (but not including <code class="highlighter-rouge">2.0.0</code>). See
<a href="#version-constraints">Version constraints</a> and <a href="#caret-syntax">Caret syntax</a>
for details on the version constraint syntax.</p>

<p>If you want to specify a source, the syntax looks a bit different:</p>

<pre class="prettyprint lang-yaml">dependencies:
  transmogrify:
    hosted:
      name: transmogrify
      url: http://some-package-server.com</pre>

<p>This depends on the <code class="highlighter-rouge">transmogrify</code> package using the <code class="highlighter-rouge">hosted</code> source.
Everything under the source key (here, just a map with a <code class="highlighter-rouge">url:</code> key) is the
description that gets passed to the source. Each source has its own description
format, detailed below.</p>

<p>You can also provide a version constraint:</p>

<pre class="prettyprint lang-yaml">dependencies:
  transmogrify:
    hosted:
      name: transmogrify
      url: http://some-package-server.com
    version: ^1.0.0</pre>

<p>This long form is used when you don’t use the default source or when you have a
complex description you need to specify.
But in most cases, you’ll just use the simple
<code><em>packagename</em>: version</code> form.</p>

<h2 id="dependency-sources">
<a id="dependency-sources" class="anchor" href="#dependency-sources" aria-hidden="true"><span class="octicon octicon-link"></span></a>Dependency sources</h2>

<p>Here are the different sources pub can use to locate packages, and the
descriptions they allow:</p>

<h3 id="sdk">
<a id="sdk" class="anchor" href="#sdk" aria-hidden="true"><span class="octicon octicon-link"></span></a>SDK</h3>

<p>The SDK source is used for any SDKs that are shipped along with packages,
which may themselves be dependencies.
Currently, Flutter is the only SDK that is supported.</p>

<p>The syntax looks like this:</p>

<pre class="prettyprint lang-yaml">dependencies:
  flutter_driver:
    sdk: flutter
    version: ^0.0.1</pre>

<p>The identifier after <code class="highlighter-rouge">sdk:</code> indicates which SDK the package comes from.
If it’s <code class="highlighter-rouge">flutter</code>, the dependency is satisfiable as long as:</p>

<ul>
  <li>Pub is running in the context of the <code class="highlighter-rouge">flutter</code> executable</li>
  <li>The Flutter SDK contains a package with the given name</li>
  <li>That package’s version matches the version constraint</li>
</ul>

<p>If it’s an unknown identifier, the dependency is always considered unsatisfied.</p>

<p>A package with an <code class="highlighter-rouge">sdk</code> dependency
must have a Dart SDK constraint with a minimum version of at least 1.19.0.
This constraint ensures that older versions of pub won’t
install packages that have <code class="highlighter-rouge">sdk</code> dependencies.</p>

<h3 id="hosted-packages">
<a id="hosted-packages" class="anchor" href="#hosted-packages" aria-hidden="true"><span class="octicon octicon-link"></span></a>Hosted packages</h3>

<p>A <em>hosted</em> package is one that can be downloaded from the Pub site
(or another HTTP server that speaks the same API). Here’s an example
of declaring a dependency on a hosted package:</p>

<pre class="prettyprint lang-yaml">dependencies:
  transmogrify: ^1.4.0</pre>

<p>This example specifies that your package depends on a hosted package named
<code class="highlighter-rouge">transmogrify</code> and will work with any version from 1.4.0 to 2.0.0
(but not 2.0.0 itself).</p>

<p>If you want to use your own package server, you can use a description that
specifies its URL:</p>

<pre class="prettyprint lang-yaml">dependencies:
  transmogrify:
    hosted:
      name: transmogrify
      url: http://your-package-server.com
    version: ^1.4.0</pre>

<h3 id="git-packages">
<a id="git-packages" class="anchor" href="#git-packages" aria-hidden="true"><span class="octicon octicon-link"></span></a>Git packages</h3>

<p>Sometimes you live on the bleeding edge and need to use packages that
haven’t been formally released yet. Maybe your package itself is still in
development and is using other packages that are being developed at the
same time. To make that easier, you can depend directly on a package
stored in a <a href="http://git-scm.com/">Git</a> repository.</p>

<pre class="prettyprint lang-yaml">dependencies:
  kittens:
    git: git://github.com/munificent/kittens.git</pre>

<p>The <code class="highlighter-rouge">git</code> here says this package is found using Git, and the URL after that is
the Git URL that can be used to clone the package.</p>

<p>Even if the package repo is private, if you can
<a href="https://help.github.com/articles/connecting-to-github-with-ssh/">connect to the repo using SSH,</a>
then you can depend on the package by using the repo’s SSH URL:</p>

<pre class="prettyprint lang-yaml">dependencies:
  kittens:
    git: git@github.com:munificent/kittens.git</pre>

<p>If you want to depend on a specific commit, branch, or tag,
add a <code class="highlighter-rouge">ref</code> argument:</p>

<pre class="prettyprint lang-yaml">dependencies:
  kittens:
    git:
      url: git://github.com/munificent/kittens.git
      ref: some-branch</pre>

<p>The ref can be anything that Git allows to <a href="http://www.kernel.org/pub/software/scm/git/docs/user-manual.html#naming-commits">identify a commit.</a></p>

<p>Pub assumes that the package is in the root of the Git repository.
To specify a different location in the repo, use the <code class="highlighter-rouge">path</code> argument:</p>

<pre class="prettyprint lang-yaml">dependencies:
  kittens:
    git:
      url: git://github.com/munificent/cats.git
      path: path/to/kittens</pre>

<p>The path is relative to the Git repo’s root.</p>

<h3 id="path-packages">
<a id="path-packages" class="anchor" href="#path-packages" aria-hidden="true"><span class="octicon octicon-link"></span></a>Path packages</h3>

<p>Sometimes you find yourself working on multiple related packages at the same
time. Maybe you are creating a framework while building an app that uses it.
In those cases, during development you really want to depend on the <em>live</em>
version of that package on your local file system. That way changes in one
package are instantly picked up by the one that depends on it.</p>

<p>To handle that, pub supports <em>path dependencies</em>.</p>

<pre class="prettyprint lang-yaml">dependencies:
  transmogrify:
    path: /Users/me/transmogrify</pre>

<p>This says the root directory for <code class="highlighter-rouge">transmogrify</code> is <code class="highlighter-rouge">/Users/me/transmogrify</code>.
For this dependency, pub generates a symlink directly to the <code class="highlighter-rouge">lib</code> directory
of the referenced package directory. Any changes you make to the dependent
package are seen immediately. You don’t need to run pub every time you
change the dependent package.</p>

<p>Relative paths are allowed and are considered relative to the directory
containing your pubspec.</p>

<p>Path dependencies are useful for local development, but do not work when
sharing code with the outside world—not everyone can get to
your file system. Because of this, you cannot upload a package to the
<a href="https://pub.dev">Pub site</a> if it has any path dependencies in its pubspec.</p>

<p>Instead, the typical workflow is:</p>

<ol>
  <li>Edit your pubspec locally to use a path dependency.</li>
  <li>Work on the main package and the package it depends on.</li>
  <li>Once they’re both working, publish the dependent package.</li>
  <li>Change your pubspec to point to the now hosted version of its dependent.</li>
  <li>Publish your main package too, if you want.</li>
</ol>

<h2 id="version-constraints">
<a id="version-constraints" class="anchor" href="#version-constraints" aria-hidden="true"><span class="octicon octicon-link"></span></a>Version constraints</h2>

<p>If your package is an application, you don’t usually need to specify <a href="/tools/pub/glossary#version-constraint">version
constraints</a> for your dependencies. You
typically want to use the latest versions of the dependencies when you first
create your app. Then you’ll create and check in a
<a href="/tools/pub/glossary#lockfile">lockfile</a> that pins your dependencies to those specific
versions. Specifying version constraints in your pubspec then is usually
redundant (though you can do it if you want).</p>

<p>For a <a href="/tools/pub/glossary#library-package">library package</a> that you want users to
reuse, though, it is important to specify version constraints. That lets people
using your package know which versions of its dependencies they can rely on to
be compatible with your library. Your goal is to allow a range of versions as
wide as possible to give your users flexibility. But it should be narrow enough
to exclude versions that you know don’t work or haven’t been tested.</p>

<p>The Dart community uses <a href="http://semver.org/spec/v2.0.0-rc.1.html">semantic versioning</a><sup id="fnref:semver"><a href="#fn:semver">1</a></sup>, which helps you know which versions should work.
If you know that your package works fine with <code class="highlighter-rouge">1.2.3</code> of some dependency, then
semantic versioning tells you that it should work (at least) up to <code class="highlighter-rouge">2.0.0</code>.</p>

<p>A version constraint is a series of:</p>

<dl>
  <dt><code class="highlighter-rouge">any</code></dt>
  <dd>The string <code class="highlighter-rouge">any</code> allows any version. This is equivalent to an empty
version constraint, but is more explicit. <strong>While <code class="highlighter-rouge">any</code> is allowed,
we do not recommend it for performance reasons.</strong>
</dd>
  <dt><code class="highlighter-rouge">1.2.3</code></dt>
  <dd>A concrete version number pins the dependency to only allow that
  <em>exact</em> version. Avoid using this when you can because it can cause
  version lock for your users and make it hard for them to use your package
  along with other packages that also depend on it.</dd>
  <dt><code class="highlighter-rouge">&gt;=1.2.3</code></dt>
  <dd>Allows the given version or any greater one. You’ll typically use this.</dd>
  <dt><code class="highlighter-rouge">&gt;1.2.3</code></dt>
  <dd>Allows any version greater than the specified one but <em>not</em> that
version itself.</dd>
  <dt><code class="highlighter-rouge">&lt;=1.2.3</code></dt>
  <dd>Allows any version lower than or equal to the specified one. You
<em>won’t</em> typically use this.</dd>
  <dt><code class="highlighter-rouge">&lt;1.2.3</code></dt>
  <dd>Allows any version lower than the specified one but <em>not</em> that
version itself. This is what you’ll usually use because it lets you specify
the upper version that you know does <em>not</em> work with your package
(because it’s the first version to introduce some breaking change).</dd>
</dl>

<p>You can specify version parts as you want, and their ranges are intersected
together. For example, <code class="highlighter-rouge">'&gt;=1.2.3 &lt;2.0.0'</code> allows any version from <code class="highlighter-rouge">1.2.3</code> to
<code class="highlighter-rouge">2.0.0</code> excluding <code class="highlighter-rouge">2.0.0</code> itself. An easier way to express this range is
by using <a href="#caret-syntax">caret syntax</a>, or <code class="highlighter-rouge">^1.2.3</code>.</p>

<aside class="alert alert-warning">
  <p>If the <strong><code class="highlighter-rouge">&gt;</code></strong> character is in the version constraint,
be sure to <strong>quote the constraint string</strong>,
so the character isn’t interpreted as YAML syntax.
For example, never use <code class="highlighter-rouge">&gt;=1.2.3 &lt;2.0.0</code>;
instead, use <code class="highlighter-rouge">'&gt;=1.2.3 &lt;2.0.0'</code> or <code class="highlighter-rouge">^1.2.3</code>.</p>
</aside>

<h3 id="caret-syntax">
<a id="caret-syntax" class="anchor" href="#caret-syntax" aria-hidden="true"><span class="octicon octicon-link"></span></a>Caret syntax</h3>

<p><em>Caret syntax</em> provides a more compact way of expressing the most common
sort of version constraint.
<code class="highlighter-rouge">^version</code> means “the range of all versions guaranteed to be backwards
compatible with the specified version”, and follows pub’s convention for
<a href="/tools/pub/versioning#semantic-versions">semantic versioning</a>.
For example, <code class="highlighter-rouge">^1.2.3</code> is equivalent to <code class="highlighter-rouge">'&gt;=1.2.3 &lt;2.0.0'</code>, and
<code class="highlighter-rouge">^0.1.2</code> is equivalent to <code class="highlighter-rouge">'&gt;=0.1.2 &lt;0.2.0'</code>.
The following is an example of caret syntax:</p>

<pre class="prettyprint lang-yaml">dependencies:
  path: ^1.3.0
  collection: ^1.1.0
  string_scanner: ^0.1.2</pre>

<p>Note that caret syntax was added in Dart 1.8.3. Older versions of Dart
don’t understand it, so you’ll need to include an SDK constraint (using
traditional syntax) to ensure that older versions of pub will not try
to process it. For example:</p>

<pre class="prettyprint lang-yaml">environment:
  sdk: '&gt;=1.8.3 &lt;3.0.0'</pre>

<h2 id="dev-dependencies">
<a id="dev-dependencies" class="anchor" href="#dev-dependencies" aria-hidden="true"><span class="octicon octicon-link"></span></a>Dev dependencies</h2>

<p>Pub supports two flavors of dependencies: regular dependencies and <em>dev
dependencies.</em> Dev dependencies differ from regular dependencies in that <em>dev
dependencies of packages you depend on are ignored</em>. Here’s an example:</p>

<p>Say the <code class="highlighter-rouge">transmogrify</code> package uses the <code class="highlighter-rouge">test</code> package in its tests and only
in its tests. If someone just wants to use <code class="highlighter-rouge">transmogrify</code>—import its
libraries—it doesn’t actually need <code class="highlighter-rouge">test</code>. In this case, it specifies
<code class="highlighter-rouge">test</code> as a dev dependency. Its pubspec will have something like:</p>

<pre class="prettyprint lang-yaml">dev_dependencies:
  test: '&gt;=0.5.0 &lt;0.12.0'</pre>

<p>Pub gets every package that your package depends on, and everything <em>those</em>
packages depend on, transitively. It also gets your package’s dev dependencies,
but it <em>ignores</em> the dev dependencies of any dependent packages. Pub only gets
<em>your</em> package’s dev dependencies. So when your package depends on
<code class="highlighter-rouge">transmogrify</code> it will get <code class="highlighter-rouge">transmogrify</code> but not <code class="highlighter-rouge">test</code>.</p>

<p>The rule for deciding between a regular or dev dependency is simple: If
the dependency is imported from something in your <code class="highlighter-rouge">lib</code> or <code class="highlighter-rouge">bin</code> directories,
it needs to be a regular dependency. If it’s only imported from <code class="highlighter-rouge">test</code>,
<code class="highlighter-rouge">example</code>, etc. it can and should be a dev dependency.</p>

<p>Using dev dependencies makes dependency graphs smaller. That makes <code class="highlighter-rouge">pub</code> run
faster, and makes it easier to find a set of package versions that satisfies all
constraints.</p>

<h2 id="dependency-overrides">
<a id="dependency-overrides" class="anchor" href="#dependency-overrides" aria-hidden="true"><span class="octicon octicon-link"></span></a>Dependency overrides</h2>

<p>You can use <code class="highlighter-rouge">dependency_overrides</code> to temporarily override all references
to a dependency.</p>

<p>For example, perhaps you are updating a local copy of transmogrify, a
published library package. Transmogrify is used by other packages in your
dependency graph, but you don’t want to clone each package locally
and change each pubspec to test your local copy of transmogrify.</p>

<p>In this situation, you can override the dependency using
<code class="highlighter-rouge">dependency_overrides</code> to specify the directory holding the local
copy of the package.</p>

<p>The pubspec would look something like the following:</p>

<pre class="prettyprint lang-yaml">name: my_app
dependencies:
  transmogrify: ^1.2.0
dependency_overrides:
  transmogrify:
    path: ../transmogrify_patch/</pre>

<p>When you run <code class="highlighter-rouge">pub get</code>, the pubspec’s lockfile is updated to reflect the
new path to your dependency and, whereever transmogrify is used, pub
uses the local version instead.</p>

<p>You can also use <code class="highlighter-rouge">dependency_overrides</code> to specify a particular
version of a package:</p>

<pre class="prettyprint lang-yaml">name: my_app
dependencies:
  transmogrify: ^1.2.0
dependency_overrides:
  transmogrify: '3.2.1'</pre>

<p><em>Caution:</em> Using a dependency override involves some risk. For example,
using an override to specify a version outside the range that the
package claims to support, or using an override to specify
a local copy of a package that has unexpected behaviors,
may break your application.</p>

<hr>

<aside id="fn:semver" class="footnote">

  <p>[1] Pub follows version <code class="highlighter-rouge">2.0.0-rc.1</code> of the semantic versioning spec,
because that version allows packages to use build identifiers (<code class="highlighter-rouge">+12345</code>)
to differentiate versions. <a href="#fnref:semver">↩</a></p>

</aside>


          

        </div>
      </article>
    </main>
    <footer id="page-footer">
  <div class="container">
    <div class="content">
      <div class="text-center" martdown="1">
        <style>.menu .material-icons { font-size: 14px; }</style><ul class="menu">
          <li><a href="/terms">Terms</a></li>
          <li><a href="/security">Security</a></li>
          <li><a href="http://www.google.com/intl/en/policies/privacy/" class="no-automatic-external">Privacy</a></li>
          <li>Site&nbsp;<a href="http://creativecommons.org/licenses/by/3.0/" class="no-automatic-external">CC&nbsp;BY&nbsp;3.0</a></li>
          <li><a href="/about_zh_CN">关于 dartlang 中文版</a></li>
          <li>
            <a href="https://github.com/dartchina/site-www-cn"
               title="该站在 GitHub 开源"
               class="no-automatic-external"><i class="fab fa-github fa-sm"></i></a>
            &nbsp;
            <a href="https://github.com/dartchina/site-www-cn/issues"
               title="为该站提交 issue"
               class="no-automatic-external"><i class="fas fa-bug fa-sm"></i></a>
            &nbsp;
            <a 
               title="Site built on 2019/05/10 03:17 PDT"
               
               class="no-automatic-external"><i class="fas fa-wrench fa-sm"></i></a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</footer>


  </body>
</html>
